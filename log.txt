2024-06-28 12:42:11 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 15348 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 12:42:11 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 12:42:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 12:42:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 12:42:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 12:42:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 12:42:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 12:42:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1162 ms
2024-06-28 12:42:12 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 12:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 12:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 12:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 12:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 12:42:12 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 12:42:12 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 8d41be4b-fa35-4443-8ac7-b63968198d76

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 12:42:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 12:42:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 12:42:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 12:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 12:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 12:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 12:42:12 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.125 seconds (JVM running for 2.608)
2024-06-28 12:42:44 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 12:42:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 12:42:44 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 12:42:51 [http-nio-8080-exec-2] WARN  c.e.demo.controller.UserController - 登录失败: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 12:42:51 CST 2024, 原因=Invalid username or password
2024-06-28 12:42:56 [http-nio-8080-exec-3] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 12:42:56 CST 2024
2024-06-28 12:42:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 12:42:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719549776564
2024-06-28 12:42:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 12:42:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/630/luqfjtyq/websocket
2024-06-28 12:42:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=luqfjtyq]
2024-06-28 12:42:56 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=luqfjtyq
2024-06-28 12:42:56 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=luqfjtyq
2024-06-28 12:42:56 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id luqfjtyq subscribed to /topic/public
2024-06-28 12:42:56 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id luqfjtyq subscribed to /user/user1/queue/private
2024-06-28 12:43:12 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 2, completed tasks = 4]
2024-06-28 12:53:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session luqfjtyq with CloseStatus[code=1001, reason=null]
2024-06-28 12:53:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=6f77863e-d619-b596-9c04-a78a74668dc8, uri=ws://127.0.0.1:8080/chat/630/luqfjtyq/websocket]
2024-06-28 12:53:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=luqfjtyq] closed with CloseStatus[code=1001, reason=null]
2024-06-28 12:53:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session luqfjtyq
2024-06-28 12:53:53 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=luqfjtyq
2024-06-28 12:53:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 12:53:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 12:53:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 12:53:57 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 8600 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 12:53:57 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 12:53:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 12:53:58 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 12:53:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 12:53:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 12:53:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 12:53:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1166 ms
2024-06-28 12:53:58 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 12:53:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 12:53:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 12:53:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 12:53:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 12:53:59 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 12:53:59 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 8c1c1f45-398f-4731-8bfa-b75304f08b43

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 12:53:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 12:53:59 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 12:53:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 12:53:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 12:53:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 12:53:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 12:53:59 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.067 seconds (JVM running for 2.529)
2024-06-28 12:54:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 12:54:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 12:54:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 12:54:07 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 12:54:07 CST 2024
2024-06-28 12:54:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 12:54:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719550448026
2024-06-28 12:54:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 12:54:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/184/jarucox2/websocket
2024-06-28 12:54:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jarucox2]
2024-06-28 12:54:08 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=jarucox2
2024-06-28 12:54:08 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=jarucox2
2024-06-28 12:54:08 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id jarucox2 subscribed to /topic/public
2024-06-28 12:54:08 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id jarucox2 subscribed to /user/user1/queue/private
2024-06-28 12:54:58 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 13]
2024-06-28 12:57:09 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session jarucox2 with CloseStatus[code=1001, reason=null]
2024-06-28 12:57:09 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=a5398bcf-a347-7ff5-4bf9-16e377c8e649, uri=ws://127.0.0.1:8080/chat/184/jarucox2/websocket]
2024-06-28 12:57:09 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jarucox2] closed with CloseStatus[code=1001, reason=null]
2024-06-28 12:57:09 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jarucox2
2024-06-28 12:57:09 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=jarucox2
2024-06-28 12:57:09 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 12:57:09 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 12:57:09 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:14:38 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 22816 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:14:38 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:14:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:14:39 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:14:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:14:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:14:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:14:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1171 ms
2024-06-28 13:14:40 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:14:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:14:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:14:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:14:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:14:40 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:14:40 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 5c272939-8452-4cd4-b763-da7110273ada

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:14:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b3f6585, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a9b9909, org.springframework.security.web.header.HeaderWriterFilter@72456279, org.springframework.security.web.authentication.logout.LogoutFilter@2b22a1cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a518813, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ba7383d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@282ffbf5, org.springframework.security.web.session.SessionManagementFilter@2dfe5525, org.springframework.security.web.access.ExceptionTranslationFilter@332820f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36061cf3]
2024-06-28 13:14:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:14:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:14:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:14:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@14b0e127]]
2024-06-28 13:14:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:14:40 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.131 seconds (JVM running for 2.57)
2024-06-28 13:15:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 13:15:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 13:15:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 13:15:06 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:15:06 CST 2024
2024-06-28 13:15:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1704f67f
2024-06-28 13:15:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719551706233
2024-06-28 13:15:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1704f67f
2024-06-28 13:15:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/466/h0t5czvb/websocket
2024-06-28 13:15:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=h0t5czvb]
2024-06-28 13:15:06 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=h0t5czvb
2024-06-28 13:15:06 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=h0t5czvb
2024-06-28 13:15:06 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id h0t5czvb subscribed to /topic/public
2024-06-28 13:15:06 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id h0t5czvb subscribed to /user/user1/queue/private
2024-06-28 13:15:40 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 2, completed tasks = 8]
2024-06-28 13:20:25 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session h0t5czvb with CloseStatus[code=1001, reason=null]
2024-06-28 13:20:25 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=89a674b0-707a-191a-9bf9-f82ea262e8d7, uri=ws://127.0.0.1:8080/chat/466/h0t5czvb/websocket]
2024-06-28 13:20:25 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=h0t5czvb] closed with CloseStatus[code=1001, reason=null]
2024-06-28 13:20:25 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session h0t5czvb
2024-06-28 13:20:25 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=h0t5czvb
2024-06-28 13:20:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:20:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@14b0e127]]
2024-06-28 13:20:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:20:29 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 13536 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:20:29 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:20:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:20:30 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:20:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:20:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:20:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:20:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1138 ms
2024-06-28 13:20:31 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:20:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:20:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:20:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:20:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:20:31 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:20:31 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 7e80b2b4-633d-459b-9699-ba98151966dd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:20:31 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e104d4b, org.springframework.security.web.context.SecurityContextPersistenceFilter@a518813, org.springframework.security.web.header.HeaderWriterFilter@21f459fc, org.springframework.security.web.authentication.logout.LogoutFilter@2418ba04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75361cf6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@710d89e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55e2fe3c, org.springframework.security.web.session.SessionManagementFilter@6a9b9909, org.springframework.security.web.access.ExceptionTranslationFilter@72456279, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20134094]
2024-06-28 13:20:31 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:20:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:20:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:20:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7cea0110]]
2024-06-28 13:20:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:20:31 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.058 seconds (JVM running for 2.49)
2024-06-28 13:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7cea0110]]
2024-06-28 13:21:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:21:36 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 10812 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:21:36 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:21:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:21:37 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:21:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:21:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:21:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:21:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1151 ms
2024-06-28 13:21:38 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:21:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:21:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:21:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:21:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:21:38 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:21:38 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 0460274c-3d7f-4b56-8c84-2a1bfeea3afb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:21:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56380231, org.springframework.security.web.context.SecurityContextPersistenceFilter@2dfe5525, org.springframework.security.web.header.HeaderWriterFilter@332820f4, org.springframework.security.web.authentication.logout.LogoutFilter@5c534b5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a9b9909, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75361cf6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64f1fd08, org.springframework.security.web.session.SessionManagementFilter@bfc14b9, org.springframework.security.web.access.ExceptionTranslationFilter@524a2ffb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34acbc60]
2024-06-28 13:21:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:21:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:21:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:21:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7fd26ad8]]
2024-06-28 13:21:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:21:38 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.102 seconds (JVM running for 2.641)
2024-06-28 13:22:38 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-06-28 13:22:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:22:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7fd26ad8]]
2024-06-28 13:22:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:24:06 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 10528 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:24:06 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:24:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:24:07 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:24:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:24:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:24:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:24:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1206 ms
2024-06-28 13:24:07 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:24:07 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:24:07 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:24:07 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:24:07 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:24:07 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:24:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 1d6db668-c310-4cf2-9005-a79743564f42

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:24:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:24:07 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:24:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:24:07 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:24:07 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:24:07 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:24:07 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.139 seconds (JVM running for 2.583)
2024-06-28 13:25:07 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-06-28 13:28:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:28:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:28:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:28:12 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 9116 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:28:12 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:28:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:28:13 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:28:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:28:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:28:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:28:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1220 ms
2024-06-28 13:28:13 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:28:13 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:28:13 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:28:13 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:28:13 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:28:13 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:28:14 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 7bfc2c4a-2025-4bd8-bb23-fad468c79140

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:28:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 13:28:14 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:28:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:28:14 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:28:14 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 13:28:14 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:28:14 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.23 seconds (JVM running for 2.732)
2024-06-28 13:29:13 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-06-28 13:31:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:31:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 13:31:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:31:38 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 15260 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:31:38 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:31:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:31:39 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:31:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:31:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:31:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:31:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1167 ms
2024-06-28 13:31:40 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:31:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:31:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:31:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:31:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:31:40 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:31:40 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 5dfae2f5-de44-42df-90b3-65c80016d955

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:31:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:31:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:31:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:31:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:31:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:31:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:31:40 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.122 seconds (JVM running for 2.572)
2024-06-28 13:31:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:31:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:31:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:32:00 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7300 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:32:00 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:32:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:32:01 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:32:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:32:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:32:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:32:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1239 ms
2024-06-28 13:32:01 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:32:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:32:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:32:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:32:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:32:01 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:32:02 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: da31cf32-71f4-4d9d-8b5a-e3062980af07

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:32:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:32:02 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:32:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:32:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:32:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:32:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:32:02 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.268 seconds (JVM running for 2.745)
2024-06-28 13:32:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:32:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:32:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:32:26 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 4380 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:32:26 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:32:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:32:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:32:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:32:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:32:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:32:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1191 ms
2024-06-28 13:32:28 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:32:28 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:32:28 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:32:28 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:32:28 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:32:28 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:32:28 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 2e4f0330-d3d4-4452-8cd8-8992bfc67275

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:32:28 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:32:28 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:32:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:32:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:32:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:32:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:32:28 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.155 seconds (JVM running for 2.608)
2024-06-28 13:32:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:32:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:32:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:36:34 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 16916 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:36:34 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:36:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:36:35 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:36:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:36:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:36:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:36:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1191 ms
2024-06-28 13:36:35 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:36:35 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:36:35 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:36:35 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:36:35 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:36:35 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:36:35 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: ceb313a8-7b13-41ad-adce-8072dae1806d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:36:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36061cf3, org.springframework.security.web.context.SecurityContextPersistenceFilter@21f459fc, org.springframework.security.web.header.HeaderWriterFilter@4e1ce44, org.springframework.security.web.authentication.logout.LogoutFilter@1dd7796b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1416cf9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dfe5525, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@718dbd79, org.springframework.security.web.session.SessionManagementFilter@72456279, org.springframework.security.web.access.ExceptionTranslationFilter@3e15bb06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f139fc9]
2024-06-28 13:36:35 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:36:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:36:35 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:36:35 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2620e717]]
2024-06-28 13:36:35 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:36:35 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.112 seconds (JVM running for 2.552)
2024-06-28 13:36:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 13:36:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 13:36:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 13:36:45 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:36:45 CST 2024
2024-06-28 13:36:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:36:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553005750
2024-06-28 13:36:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:36:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/801/qedusvjk/websocket
2024-06-28 13:36:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qedusvjk]
2024-06-28 13:36:45 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=qedusvjk
2024-06-28 13:36:45 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=qedusvjk
2024-06-28 13:36:45 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id qedusvjk subscribed to /topic/public
2024-06-28 13:36:45 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id qedusvjk subscribed to /user/user1/queue/private
2024-06-28 13:36:48 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=qedusvjk, lookupDestination='/send'
2024-06-28 13:36:48 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:36:48 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous","text":"1","type":"CHAT","to":null}
2024-06-28 13:36:48 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:37:00 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 13:37:00 CST 2024
2024-06-28 13:37:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:37:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553020636
2024-06-28 13:37:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:37:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/213/f05oyotg/websocket
2024-06-28 13:37:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=f05oyotg]
2024-06-28 13:37:00 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=f05oyotg
2024-06-28 13:37:00 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=f05oyotg
2024-06-28 13:37:00 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id f05oyotg subscribed to /topic/public
2024-06-28 13:37:00 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id f05oyotg subscribed to /user/user2/queue/private
2024-06-28 13:37:05 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=qedusvjk, lookupDestination='/send'
2024-06-28 13:37:05 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:37:05 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous","text":"2","type":"CHAT","to":null}
2024-06-28 13:37:05 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:37:10 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=f05oyotg, lookupDestination='/send'
2024-06-28 13:37:10 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:37:10 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous","text":"3","type":"CHAT","to":null}
2024-06-28 13:37:10 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:37:35 [MessageBroker-8] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 27, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 7], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 3, completed tasks = 12]
2024-06-28 13:45:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qedusvjk] closed with CloseStatus[code=1000, reason=null]
2024-06-28 13:45:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qedusvjk
2024-06-28 13:45:42 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=qedusvjk
2024-06-28 13:45:42 [clientOutboundChannel-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qedusvjk}], simpSessionId=qedusvjk}]
2024-06-28 13:45:49 [http-nio-8080-exec-9] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:45:49 CST 2024
2024-06-28 13:45:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:45:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553549124
2024-06-28 13:45:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:45:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/373/nl0yt3z4/websocket
2024-06-28 13:45:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nl0yt3z4]
2024-06-28 13:45:49 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=nl0yt3z4
2024-06-28 13:45:49 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id nl0yt3z4 subscribed to /topic/public
2024-06-28 13:45:49 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=nl0yt3z4
2024-06-28 13:45:49 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id nl0yt3z4 subscribed to /user/user1/queue/private
2024-06-28 13:45:50 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [qedusvjk]
2024-06-28 13:45:52 [clientInboundChannel-40] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=nl0yt3z4, lookupDestination='/send'
2024-06-28 13:45:52 [clientInboundChannel-40] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:45:52 [clientInboundChannel-40] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous","text":"1","type":"CHAT","to":null}
2024-06-28 13:45:52 [clientInboundChannel-40] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:46:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=f05oyotg] closed with CloseStatus[code=1000, reason=null]
2024-06-28 13:46:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session f05oyotg
2024-06-28 13:46:20 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=f05oyotg
2024-06-28 13:46:20 [clientOutboundChannel-12] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f05oyotg}], simpSessionId=f05oyotg}]
2024-06-28 13:46:25 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [f05oyotg]
2024-06-28 13:46:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nl0yt3z4] closed with CloseStatus[code=1000, reason=null]
2024-06-28 13:46:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session nl0yt3z4
2024-06-28 13:46:26 [clientInboundChannel-47] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=nl0yt3z4
2024-06-28 13:46:26 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nl0yt3z4}], simpSessionId=nl0yt3z4}]
2024-06-28 13:46:31 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:46:31 CST 2024
2024-06-28 13:46:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:46:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553591219
2024-06-28 13:46:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a389173
2024-06-28 13:46:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/001/4rtelouq/websocket
2024-06-28 13:46:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4rtelouq]
2024-06-28 13:46:31 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=4rtelouq
2024-06-28 13:46:31 [clientInboundChannel-53] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=4rtelouq
2024-06-28 13:46:31 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id 4rtelouq subscribed to /topic/public
2024-06-28 13:46:31 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id 4rtelouq subscribed to /user/user1/queue/private
2024-06-28 13:46:33 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=4rtelouq, lookupDestination='/send'
2024-06-28 13:46:33 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:46:33 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous","text":"1","type":"CHAT","to":null}
2024-06-28 13:46:33 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:46:35 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [nl0yt3z4]
2024-06-28 13:46:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 4rtelouq with CloseStatus[code=1001, reason=null]
2024-06-28 13:46:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=66aced5c-866f-8a71-8e2c-52c2d53ac9ca, uri=ws://127.0.0.1:8080/chat/001/4rtelouq/websocket]
2024-06-28 13:46:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4rtelouq] closed with CloseStatus[code=1001, reason=null]
2024-06-28 13:46:53 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4rtelouq
2024-06-28 13:46:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:46:53 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=4rtelouq
2024-06-28 13:46:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2620e717]]
2024-06-28 13:46:53 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:46:57 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 6748 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:46:57 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:46:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:46:58 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:46:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:46:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:46:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:46:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1165 ms
2024-06-28 13:46:58 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:46:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:46:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:46:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:46:58 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:46:58 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:46:59 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: f8fd113a-a3b9-4470-89b0-b44e6aebd57c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:46:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:46:59 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:46:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:46:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:46:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:46:59 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:46:59 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.099 seconds (JVM running for 2.556)
2024-06-28 13:47:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 13:47:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 13:47:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 13:47:10 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:47:10 CST 2024
2024-06-28 13:47:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:47:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553630430
2024-06-28 13:47:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:47:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/083/gbxjl0qf/websocket
2024-06-28 13:47:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=gbxjl0qf]
2024-06-28 13:47:10 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=gbxjl0qf
2024-06-28 13:47:10 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=gbxjl0qf
2024-06-28 13:47:10 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id gbxjl0qf subscribed to /topic/public
2024-06-28 13:47:10 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id gbxjl0qf subscribed to /user/user1/queue/private
2024-06-28 13:47:12 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=gbxjl0qf, lookupDestination='/send'
2024-06-28 13:47:12 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:47:12 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-4trum4hub","text":"1","type":"CHAT","to":null}
2024-06-28 13:47:12 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:47:21 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=gbxjl0qf, lookupDestination='/send'
2024-06-28 13:47:21 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:47:21 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-8swnu8eed","text":"2","type":"CHAT","to":null}
2024-06-28 13:47:21 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:47:58 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 15, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannel[pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 11]
2024-06-28 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=gbxjl0qf] closed with CloseStatus[code=1000, reason=null]
2024-06-28 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session gbxjl0qf
2024-06-28 13:48:30 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=gbxjl0qf
2024-06-28 13:48:30 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=gbxjl0qf}], simpSessionId=gbxjl0qf}]
2024-06-28 13:48:35 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:48:35 CST 2024
2024-06-28 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553715458
2024-06-28 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/076/ewm4gtuh/websocket
2024-06-28 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ewm4gtuh]
2024-06-28 13:48:35 [MessageBroker-16] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [gbxjl0qf]
2024-06-28 13:48:35 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ewm4gtuh
2024-06-28 13:48:35 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id ewm4gtuh subscribed to /topic/public
2024-06-28 13:48:35 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ewm4gtuh
2024-06-28 13:48:35 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id ewm4gtuh subscribed to /user/user1/queue/private
2024-06-28 13:48:37 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ewm4gtuh, lookupDestination='/send'
2024-06-28 13:48:37 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:37 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-im1z0z1n8","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:37 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:48:38 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ewm4gtuh, lookupDestination='/send'
2024-06-28 13:48:38 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:38 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-gpxb86j0m","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:38 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:48:41 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ewm4gtuh with CloseStatus[code=1001, reason=null]
2024-06-28 13:48:41 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=69584f06-447d-8598-28ef-cd8df37196e7, uri=ws://127.0.0.1:8080/chat/076/ewm4gtuh/websocket]
2024-06-28 13:48:41 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ewm4gtuh] closed with CloseStatus[code=1001, reason=null]
2024-06-28 13:48:41 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ewm4gtuh
2024-06-28 13:48:41 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:48:41 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ewm4gtuh
2024-06-28 13:48:41 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:48:41 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:48:44 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 14472 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:48:44 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:48:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:48:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:48:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:48:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:48:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:48:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1198 ms
2024-06-28 13:48:45 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:48:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:48:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:48:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:48:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:48:45 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:48:45 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 5d56bcaf-212e-4cf2-a8c3-0e4fe6ce4357

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:48:46 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@282ffbf5, org.springframework.security.web.context.SecurityContextPersistenceFilter@55d9b8f0, org.springframework.security.web.header.HeaderWriterFilter@53a9fcfd, org.springframework.security.web.authentication.logout.LogoutFilter@62573c86, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43d38654, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3419e23b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e104d4b, org.springframework.security.web.session.SessionManagementFilter@1290c49, org.springframework.security.web.access.ExceptionTranslationFilter@7173ae5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@718dbd79]
2024-06-28 13:48:46 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:48:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:48:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:48:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@10823d72]]
2024-06-28 13:48:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:48:46 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.156 seconds (JVM running for 2.658)
2024-06-28 13:48:47 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 13:48:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 13:48:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 13:48:52 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:48:52 CST 2024
2024-06-28 13:48:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e4d2696
2024-06-28 13:48:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553732453
2024-06-28 13:48:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e4d2696
2024-06-28 13:48:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/033/tspmyep2/websocket
2024-06-28 13:48:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tspmyep2]
2024-06-28 13:48:52 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=tspmyep2
2024-06-28 13:48:52 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=tspmyep2
2024-06-28 13:48:52 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id tspmyep2 subscribed to /topic/public
2024-06-28 13:48:52 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id tspmyep2 subscribed to /user/user1/queue/private
2024-06-28 13:48:54 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=tspmyep2, lookupDestination='/send'
2024-06-28 13:48:54 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:54 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:54 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:48:55 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=tspmyep2, lookupDestination='/send'
2024-06-28 13:48:55 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:55 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-2asbeygy1","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:55 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:48:56 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=tspmyep2, lookupDestination='/send'
2024-06-28 13:48:56 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:56 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-2asbeygy1","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:56 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:48:56 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=tspmyep2, lookupDestination='/send'
2024-06-28 13:48:56 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:48:56 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-2asbeygy1","text":"1","type":"CHAT","to":null}
2024-06-28 13:48:56 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 13:49:23 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 13:49:23 CST 2024
2024-06-28 13:49:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e4d2696
2024-06-28 13:49:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719553763311
2024-06-28 13:49:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e4d2696
2024-06-28 13:49:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/005/fqf5ker4/websocket
2024-06-28 13:49:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=fqf5ker4]
2024-06-28 13:49:23 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=fqf5ker4
2024-06-28 13:49:23 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=fqf5ker4
2024-06-28 13:49:23 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id fqf5ker4 subscribed to /topic/public
2024-06-28 13:49:23 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id fqf5ker4 subscribed to /user/user2/queue/private
2024-06-28 13:49:37 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=fqf5ker4, lookupDestination='/send'
2024-06-28 13:49:37 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:49:37 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"2","type":"CHAT","to":null}
2024-06-28 13:49:37 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:49:38 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=fqf5ker4, lookupDestination='/send'
2024-06-28 13:49:38 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:49:38 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-qt0zp7rtu","text":"2","type":"CHAT","to":null}
2024-06-28 13:49:38 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:49:38 [clientInboundChannel-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=fqf5ker4, lookupDestination='/send'
2024-06-28 13:49:38 [clientInboundChannel-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:49:38 [clientInboundChannel-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-qt0zp7rtu","text":"2","type":"CHAT","to":null}
2024-06-28 13:49:38 [clientInboundChannel-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:49:39 [clientInboundChannel-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=fqf5ker4, lookupDestination='/send'
2024-06-28 13:49:39 [clientInboundChannel-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:49:39 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"Anonymous-qt0zp7rtu","text":"2","type":"CHAT","to":null}
2024-06-28 13:49:39 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 13:49:45 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 32, active threads = 0, queued tasks = 0, completed tasks = 42], outboundChannel[pool size = 14, active threads = 0, queued tasks = 0, completed tasks = 14], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 3, completed tasks = 12]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session fqf5ker4 with CloseStatus[code=1001, reason=null]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=4edda125-7e09-c564-61a9-ba7516fa99f7, uri=ws://127.0.0.1:8080/chat/005/fqf5ker4/websocket]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=fqf5ker4] closed with CloseStatus[code=1001, reason=null]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session fqf5ker4
2024-06-28 13:54:18 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=fqf5ker4
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session tspmyep2 with CloseStatus[code=1001, reason=null]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=361ca6e3-957b-acdd-bbc2-dce5851cce99, uri=ws://127.0.0.1:8080/chat/033/tspmyep2/websocket]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tspmyep2] closed with CloseStatus[code=1001, reason=null]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tspmyep2
2024-06-28 13:54:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 13:54:18 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=tspmyep2
2024-06-28 13:54:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@10823d72]]
2024-06-28 13:54:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 13:54:29 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 11272 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 13:54:29 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 13:54:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 13:54:30 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 13:54:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 13:54:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 13:54:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 13:54:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1175 ms
2024-06-28 13:54:30 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 13:54:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 13:54:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 13:54:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 13:54:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 13:54:30 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 13:54:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 02c21e9c-0aa9-48c7-92f4-dbbe8eb8b5e8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 13:54:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@242a209e, org.springframework.security.web.context.SecurityContextPersistenceFilter@710d89e2, org.springframework.security.web.header.HeaderWriterFilter@2dfe5525, org.springframework.security.web.authentication.logout.LogoutFilter@3936df72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fc142ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e048149, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64469d8, org.springframework.security.web.session.SessionManagementFilter@6ba7383d, org.springframework.security.web.access.ExceptionTranslationFilter@bfc14b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3f6585]
2024-06-28 13:54:30 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 13:54:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 13:54:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 13:54:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 13:54:30 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 13:54:30 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.109 seconds (JVM running for 2.558)
2024-06-28 13:54:37 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 13:54:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 13:54:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 13:54:43 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 13:54:43 CST 2024
2024-06-28 13:54:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:54:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719554083278
2024-06-28 13:54:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:54:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/293/eztodgro/websocket
2024-06-28 13:54:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=eztodgro]
2024-06-28 13:54:43 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=eztodgro
2024-06-28 13:54:43 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=eztodgro
2024-06-28 13:54:43 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id eztodgro subscribed to /topic/public
2024-06-28 13:54:43 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id eztodgro subscribed to /user/user1/queue/private
2024-06-28 13:54:47 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:54:47 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:55:30 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 15, active threads = 1, queued tasks = 2, completed tasks = 11]
2024-06-28 13:55:44 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:55:44 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:56:05 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 13:56:05 CST 2024
2024-06-28 13:56:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:56:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719554165023
2024-06-28 13:56:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 13:56:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/404/4ir0p54p/websocket
2024-06-28 13:56:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4ir0p54p]
2024-06-28 13:56:05 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=4ir0p54p
2024-06-28 13:56:05 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=4ir0p54p
2024-06-28 13:56:05 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id 4ir0p54p subscribed to /topic/public
2024-06-28 13:56:05 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id 4ir0p54p subscribed to /user/user2/queue/private
2024-06-28 13:56:12 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:56:12 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:56:12 [clientInboundChannel-25] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:56:12 [clientInboundChannel-25] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 13:59:20 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:59:20 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:59:20 [clientInboundChannel-28] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:59:20 [clientInboundChannel-28] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 13:59:21 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:59:21 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:59:21 [clientInboundChannel-31] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:59:21 [clientInboundChannel-31] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 13:59:21 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:59:21 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:59:21 [clientInboundChannel-34] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:59:21 [clientInboundChannel-34] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 13:59:43 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:59:43 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:59:43 [clientInboundChannel-37] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:59:43 [clientInboundChannel-37] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 13:59:45 [clientInboundChannel-40] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 13:59:45 [clientInboundChannel-40] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 13:59:45 [clientInboundChannel-40] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 13:59:45 [clientInboundChannel-40] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:00:34 [clientInboundChannel-43] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 14:00:34 [clientInboundChannel-43] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:00:34 [clientInboundChannel-43] INFO  c.e.demo.controller.ChatController - Sending private message to user: user
2024-06-28 14:00:34 [clientInboundChannel-43] WARN  c.e.demo.controller.ChatController - User user is not subscribed to /user/user/queue/private
2024-06-28 14:00:40 [clientInboundChannel-46] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=eztodgro, lookupDestination='/send'
2024-06-28 14:00:42 [clientInboundChannel-46] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:00:42 [clientInboundChannel-46] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"111","type":"CHAT","to":null}
2024-06-28 14:00:42 [clientInboundChannel-46] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:01:53 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 14:01:53 CST 2024
2024-06-28 14:01:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 14:01:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719554513549
2024-06-28 14:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5af97169
2024-06-28 14:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/904/ldadb4h1/websocket
2024-06-28 14:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ldadb4h1]
2024-06-28 14:01:53 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ldadb4h1
2024-06-28 14:01:53 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id ldadb4h1 subscribed to /topic/public
2024-06-28 14:01:53 [clientInboundChannel-53] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ldadb4h1
2024-06-28 14:01:53 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id ldadb4h1 subscribed to /user/user3/queue/private
2024-06-28 14:02:01 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ldadb4h1, lookupDestination='/send'
2024-06-28 14:02:01 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:02:01 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user3","text":"123","type":"CHAT","to":null}
2024-06-28 14:02:01 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:02:07 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ldadb4h1, lookupDestination='/send'
2024-06-28 14:02:07 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:02:07 [clientInboundChannel-61] INFO  c.e.demo.controller.ChatController - Sending private message to user: user1
2024-06-28 14:02:07 [clientInboundChannel-61] INFO  c.e.demo.controller.ChatController - Message sent to /user/user1/queue/private
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ldadb4h1 with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=9844a2f3-c879-069a-f2e7-96c9982affc8, uri=ws://127.0.0.1:8080/chat/904/ldadb4h1/websocket]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ldadb4h1] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ldadb4h1
2024-06-28 14:10:22 [clientInboundChannel-65] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ldadb4h1
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 4ir0p54p with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=9db3e162-a6ad-265c-737d-33e881d92d59, uri=ws://127.0.0.1:8080/chat/404/4ir0p54p/websocket]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4ir0p54p] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4ir0p54p
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session eztodgro with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=4ir0p54p
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=f77df3aa-be82-41e9-61f7-9f4744283a8f, uri=ws://127.0.0.1:8080/chat/293/eztodgro/websocket]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=eztodgro] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session eztodgro
2024-06-28 14:10:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:10:22 [clientInboundChannel-71] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=eztodgro
2024-06-28 14:10:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38aafb53]]
2024-06-28 14:10:22 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:10:26 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 10856 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:10:26 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:10:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:10:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:10:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:10:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:10:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:10:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1240 ms
2024-06-28 14:10:27 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:10:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:10:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:10:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:10:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:10:27 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:10:28 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 0e548c44-75cd-4c1c-ac2e-17b821b0fb5d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:10:28 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e807c54, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba7383d, org.springframework.security.web.header.HeaderWriterFilter@bfc14b9, org.springframework.security.web.authentication.logout.LogoutFilter@10f19647, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@710d89e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29eda4f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd164a6, org.springframework.security.web.session.SessionManagementFilter@75361cf6, org.springframework.security.web.access.ExceptionTranslationFilter@1416cf9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56380231]
2024-06-28 14:10:28 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:10:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:10:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:10:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 14:10:28 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:10:28 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.222 seconds (JVM running for 2.667)
2024-06-28 14:10:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:10:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:10:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:10:45 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:10:45 CST 2024
2024-06-28 14:10:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 14:10:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719555045516
2024-06-28 14:10:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 14:10:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/215/n4gqpzvx/websocket
2024-06-28 14:10:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=n4gqpzvx]
2024-06-28 14:10:45 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=n4gqpzvx
2024-06-28 14:10:45 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=n4gqpzvx
2024-06-28 14:10:45 [http-nio-8080-exec-7] ERROR o.s.w.s.m.StompSubProtocolHandler - Error publishing SessionSubscribeEvent[GenericMessage [payload=byte[0], headers={simpMessageType=SUBSCRIBE, stompCommand=SUBSCRIBE, nativeHeaders={id=[sub-0], destination=[/topic/public]}, simpSessionAttributes={}, simpHeartbeat=[J@62d36fd5, simpSubscriptionId=sub-0, simpSessionId=n4gqpzvx, simpDestination=/topic/public}]]
java.lang.NullPointerException: null
	at com.example.demo.config.WebSocketEventListener.handleSessionSubscribeEvent(WebSocketEventListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.publishEvent(StompSubProtocolHandler.java:415)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:319)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:335)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:387)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:114)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.access$000(StandardWebSocketHandlerAdapter.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:85)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:82)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:415)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:129)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:515)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:301)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:10:45 [http-nio-8080-exec-7] ERROR o.s.w.s.m.StompSubProtocolHandler - Error publishing SessionSubscribeEvent[GenericMessage [payload=byte[0], headers={simpMessageType=SUBSCRIBE, stompCommand=SUBSCRIBE, nativeHeaders={id=[sub-1], destination=[/user/user1/queue/private]}, simpSessionAttributes={}, simpHeartbeat=[J@2ec659fe, simpSubscriptionId=sub-1, simpSessionId=n4gqpzvx, simpDestination=/user/user1/queue/private}]]
java.lang.NullPointerException: null
	at com.example.demo.config.WebSocketEventListener.handleSessionSubscribeEvent(WebSocketEventListener.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.publishEvent(StompSubProtocolHandler.java:415)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:319)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:335)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:387)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:114)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.access$000(StandardWebSocketHandlerAdapter.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:85)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:82)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:415)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:129)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:515)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:301)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:10:47 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=n4gqpzvx, lookupDestination='/send'
2024-06-28 14:10:47 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:10:47 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:10:47 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 14:11:27 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 15, active threads = 1, queued tasks = 2, completed tasks = 10]
2024-06-28 14:11:56 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session n4gqpzvx with CloseStatus[code=1001, reason=null]
2024-06-28 14:11:56 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=3329b09e-1915-582d-5589-5bce4a384fbc, uri=ws://127.0.0.1:8080/chat/215/n4gqpzvx/websocket]
2024-06-28 14:11:56 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=n4gqpzvx] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:11:56 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session n4gqpzvx
2024-06-28 14:11:56 [SpringApplicationShutdownHook] ERROR o.s.w.s.m.StompSubProtocolHandler - Error publishing SessionDisconnectEvent[sessionId=n4gqpzvx, CloseStatus[code=1001, reason=null]]
java.lang.NullPointerException: null
	at com.example.demo.config.WebSocketEventListener.handleSessionDisconnectEvent(WebSocketEventListener.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.publishEvent(StompSubProtocolHandler.java:415)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.afterSessionEnded(StompSubProtocolHandler.java:650)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.clearSession(SubProtocolWebSocketHandler.java:530)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.afterConnectionClosed(SubProtocolWebSocketHandler.java:399)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionClosed(ExceptionWebSocketHandlerDecorator.java:78)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.close(AbstractSockJsSession.java:224)
	at org.springframework.web.socket.handler.WebSocketSessionDecorator.close(WebSocketSessionDecorator.java:160)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.close(ConcurrentWebSocketSessionDecorator.java:271)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:288)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:301)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:234)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:373)
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:206)
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:11:56 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=n4gqpzvx
2024-06-28 14:11:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:11:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 14:11:56 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:12:00 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 21956 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:12:00 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:12:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:12:01 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:12:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:12:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:12:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:12:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1238 ms
2024-06-28 14:12:01 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:12:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:12:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:12:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:12:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:12:02 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:12:02 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 80b8dd90-4f28-4d37-b3a4-33a5caeec64f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:12:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@706fe5c6, org.springframework.security.web.context.SecurityContextPersistenceFilter@bfc14b9, org.springframework.security.web.header.HeaderWriterFilter@524a2ffb, org.springframework.security.web.authentication.logout.LogoutFilter@702b06fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dfe5525, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a518813, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c15e8c7, org.springframework.security.web.session.SessionManagementFilter@1416cf9f, org.springframework.security.web.access.ExceptionTranslationFilter@7a7cc52c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15dc339f]
2024-06-28 14:12:02 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:12:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:12:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:12:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b34e38c]]
2024-06-28 14:12:02 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:12:02 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.222 seconds (JVM running for 2.682)
2024-06-28 14:12:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:12:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:12:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:12:07 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 14:12:07 CST 2024
2024-06-28 14:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719555127643
2024-06-28 14:12:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:12:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/450/phhaispz/websocket
2024-06-28 14:12:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=phhaispz]
2024-06-28 14:12:07 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=phhaispz
2024-06-28 14:12:07 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=phhaispz
2024-06-28 14:12:07 [http-nio-8080-exec-4] INFO  c.e.d.config.WebSocketEventListener - User with session id phhaispz subscribed to /topic/public
2024-06-28 14:12:07 [http-nio-8080-exec-4] INFO  c.e.d.config.WebSocketEventListener - User with session id phhaispz subscribed to /user/user2/queue/private
2024-06-28 14:12:22 [http-nio-8080-exec-6] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:12:22 CST 2024
2024-06-28 14:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719555142177
2024-06-28 14:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/710/5cejsfub/websocket
2024-06-28 14:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=5cejsfub]
2024-06-28 14:12:22 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=5cejsfub
2024-06-28 14:12:22 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=5cejsfub
2024-06-28 14:12:22 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id 5cejsfub subscribed to /topic/public
2024-06-28 14:12:22 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id 5cejsfub subscribed to /user/user1/queue/private
2024-06-28 14:13:01 [MessageBroker-6] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 18, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 3, completed tasks = 14]
2024-06-28 14:13:16 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:13:16 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:13:16 [clientInboundChannel-19] INFO  c.e.demo.controller.ChatController - Sending private message to user: user1
2024-06-28 14:13:16 [clientInboundChannel-19] INFO  c.e.demo.controller.ChatController - Message sent to /user/user1/queue/private
2024-06-28 14:18:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=5cejsfub] closed with CloseStatus[code=1000, reason=null]
2024-06-28 14:18:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 5cejsfub
2024-06-28 14:18:28 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=5cejsfub
2024-06-28 14:18:28 [clientOutboundChannel-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5cejsfub}], simpSessionId=5cejsfub}]
2024-06-28 14:18:34 [http-nio-8080-exec-6] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:18:34 CST 2024
2024-06-28 14:18:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:18:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719555514531
2024-06-28 14:18:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:18:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/488/upi441hz/websocket
2024-06-28 14:18:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=upi441hz]
2024-06-28 14:18:34 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=upi441hz
2024-06-28 14:18:34 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id upi441hz subscribed to /topic/public
2024-06-28 14:18:34 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=upi441hz
2024-06-28 14:18:34 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id upi441hz subscribed to /user/user1/queue/private
2024-06-28 14:18:35 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=upi441hz, lookupDestination='/send'
2024-06-28 14:18:35 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:18:35 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:18:35 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:18:37 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [5cejsfub]
2024-06-28 14:18:39 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:18:39 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:18:39 [clientInboundChannel-37] INFO  c.e.demo.controller.ChatController - Sending private message to user: user1
2024-06-28 14:18:39 [clientInboundChannel-37] INFO  c.e.demo.controller.ChatController - Message sent to /user/user1/queue/private
2024-06-28 14:20:41 [http-nio-8080-exec-6] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 14:20:41 CST 2024
2024-06-28 14:20:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:20:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719555641433
2024-06-28 14:20:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@795fd838
2024-06-28 14:20:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/781/mzvujg4p/websocket
2024-06-28 14:20:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=mzvujg4p]
2024-06-28 14:20:41 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=mzvujg4p
2024-06-28 14:20:41 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=mzvujg4p
2024-06-28 14:20:41 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id mzvujg4p subscribed to /topic/public
2024-06-28 14:20:41 [http-nio-8080-exec-10] INFO  c.e.d.config.WebSocketEventListener - User with session id mzvujg4p subscribed to /user/user3/queue/private
2024-06-28 14:20:43 [clientInboundChannel-49] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=mzvujg4p, lookupDestination='/send'
2024-06-28 14:20:43 [clientInboundChannel-49] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:20:43 [clientInboundChannel-49] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user3","text":"3","type":"CHAT","to":null}
2024-06-28 14:20:43 [clientInboundChannel-49] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:21:06 [clientInboundChannel-52] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=mzvujg4p, lookupDestination='/send'
2024-06-28 14:21:06 [clientInboundChannel-52] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:21:06 [clientInboundChannel-52] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:21:06 [clientInboundChannel-52] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:31:39 [clientInboundChannel-55] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:31:39 [clientInboundChannel-55] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:31:39 [clientInboundChannel-55] INFO  c.e.demo.controller.ChatController - Sending private message to user: user22
2024-06-28 14:31:39 [clientInboundChannel-55] WARN  c.e.demo.controller.ChatController - User user22 is not subscribed to /user/user22/queue/private
2024-06-28 14:31:46 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:31:46 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:31:46 [clientInboundChannel-58] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:31:46 [clientInboundChannel-58] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:29 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=mzvujg4p, lookupDestination='/send'
2024-06-28 14:34:29 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:29 [clientInboundChannel-61] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:29 [clientInboundChannel-61] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:34 [clientInboundChannel-64] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=mzvujg4p, lookupDestination='/send'
2024-06-28 14:34:34 [clientInboundChannel-64] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:34 [clientInboundChannel-64] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:34 [clientInboundChannel-64] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:39 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:39 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:39 [clientInboundChannel-67] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:39 [clientInboundChannel-67] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:39 [clientInboundChannel-70] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:39 [clientInboundChannel-70] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:39 [clientInboundChannel-70] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:39 [clientInboundChannel-70] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:40 [clientInboundChannel-73] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:40 [clientInboundChannel-73] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:40 [clientInboundChannel-73] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:40 [clientInboundChannel-73] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:40 [clientInboundChannel-76] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:40 [clientInboundChannel-76] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:40 [clientInboundChannel-76] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:40 [clientInboundChannel-76] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:40 [clientInboundChannel-79] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:40 [clientInboundChannel-79] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:40 [clientInboundChannel-79] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:40 [clientInboundChannel-79] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:40 [clientInboundChannel-82] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:40 [clientInboundChannel-82] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:40 [clientInboundChannel-82] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:40 [clientInboundChannel-82] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:40 [clientInboundChannel-85] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=phhaispz, lookupDestination='/send'
2024-06-28 14:34:40 [clientInboundChannel-85] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:40 [clientInboundChannel-85] INFO  c.e.demo.controller.ChatController - Sending private message to user: user2
2024-06-28 14:34:40 [clientInboundChannel-85] INFO  c.e.demo.controller.ChatController - Message sent to /user/user2/queue/private
2024-06-28 14:34:58 [clientInboundChannel-88] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=upi441hz, lookupDestination='/send'
2024-06-28 14:34:58 [clientInboundChannel-88] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:34:58 [clientInboundChannel-88] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:34:58 [clientInboundChannel-88] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session upi441hz with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=e9184e1b-5199-228e-28a5-6a52175196b4, uri=ws://127.0.0.1:8080/chat/488/upi441hz/websocket]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=upi441hz] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session upi441hz
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session mzvujg4p with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [clientInboundChannel-92] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=upi441hz
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=f346fc2e-397d-b884-f30a-903b221be7ed, uri=ws://127.0.0.1:8080/chat/781/mzvujg4p/websocket]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=mzvujg4p] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session mzvujg4p
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session phhaispz with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [clientInboundChannel-95] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=mzvujg4p
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=20fd6982-4fa6-3076-40ec-f82d2536495c, uri=ws://127.0.0.1:8080/chat/450/phhaispz/websocket]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=phhaispz] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session phhaispz
2024-06-28 14:41:00 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:41:00 [clientInboundChannel-98] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=phhaispz
2024-06-28 14:41:00 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b34e38c]]
2024-06-28 14:41:00 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:41:08 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 20536 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:41:08 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:41:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:41:09 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:41:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:41:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:41:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:41:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1188 ms
2024-06-28 14:41:09 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:41:09 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:41:09 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:41:09 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:41:09 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:41:10 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:41:10 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 0ad28b63-d71b-448a-8511-501b75e8eeed

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:41:10 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cec219f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b9776f5, org.springframework.security.web.header.HeaderWriterFilter@43d38654, org.springframework.security.web.authentication.logout.LogoutFilter@42714a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79d9214d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57402ba1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@692e028d, org.springframework.security.web.session.SessionManagementFilter@34b27915, org.springframework.security.web.access.ExceptionTranslationFilter@55d9b8f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c60152]
2024-06-28 14:41:10 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:41:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:41:10 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:41:10 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 14:41:10 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:41:10 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.181 seconds (JVM running for 2.622)
2024-06-28 14:41:12 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:41:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:41:12 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:41:17 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:41:17 CST 2024
2024-06-28 14:41:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:41:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719556877177
2024-06-28 14:41:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:41:17 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:41:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:41:17 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/760/gshdcso0/eventsource
2024-06-28 14:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler - GET http://127.0.0.1:8080/chat/760/gshdcso0/eventsource
2024-06-28 14:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New EventSourceStreamingSockJsSession[id=gshdcso0]
2024-06-28 14:41:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:41:17 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:03 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler$EventSourceStreamingSockJsSession - Closing SockJS session gshdcso0 with CloseStatus[code=1001, reason=null]
2024-06-28 14:42:03 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler$EventSourceStreamingSockJsSession - Failure while sending SockJS close frame
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273)
	at org.apache.catalina.connector.Response.flushBuffer(Response.java:500)
	at org.apache.catalina.connector.ResponseFacade.flushBuffer(ResponseFacade.java:312)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.flushBuffer(OnCommittedResponseWrapper.java:166)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.flushBuffer(OnCommittedResponseWrapper.java:166)
	at org.springframework.http.server.ServletServerHttpResponse.flush(ServletServerHttpResponse.java:104)
	at org.springframework.web.socket.sockjs.transport.session.AbstractHttpSockJsSession.writeFrameInternal(AbstractHttpSockJsSession.java:361)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.close(AbstractSockJsSession.java:212)
	at org.springframework.web.socket.handler.WebSocketSessionDecorator.close(WebSocketSessionDecorator.java:160)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.close(ConcurrentWebSocketSessionDecorator.java:271)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:288)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:301)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:234)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:373)
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:206)
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:135)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1424)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:768)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:732)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:716)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:573)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:221)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1253)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:306)
	... 27 common frames omitted
2024-06-28 14:42:03 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - EventSourceStreamingSockJsSession[id=gshdcso0] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:42:03 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session gshdcso0
2024-06-28 14:42:03 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/event-stream;charset=UTF-8']
2024-06-28 14:42:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:42:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 14:42:03 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=gshdcso0
2024-06-28 14:42:03 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:42:10 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7048 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:42:10 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:42:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:42:11 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:42:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:42:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:42:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:42:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1235 ms
2024-06-28 14:42:12 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:42:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:42:12 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:42:12 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 6df9d2ed-ca9a-40b6-8ba4-bf7a48cf219c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:42:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 14:42:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:42:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 14:42:12 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:42:12 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.275 seconds (JVM running for 2.734)
2024-06-28 14:42:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:42:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:42:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:42:17 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:42:17 CST 2024
2024-06-28 14:42:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 14:42:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719556937660
2024-06-28 14:42:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 14:42:17 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 14:42:17 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 14:42:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/235/2zv2bydq/eventsource
2024-06-28 14:42:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler - GET http://127.0.0.1:8080/chat/235/2zv2bydq/eventsource
2024-06-28 14:42:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New EventSourceStreamingSockJsSession[id=2zv2bydq]
2024-06-28 14:42:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 14:42:17 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:32 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler$EventSourceStreamingSockJsSession - Closing SockJS session 2zv2bydq with CloseStatus[code=1001, reason=null]
2024-06-28 14:42:32 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - EventSourceStreamingSockJsSession[id=2zv2bydq] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:42:32 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2zv2bydq
2024-06-28 14:42:32 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:42:32 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 14:42:32 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=2zv2bydq
2024-06-28 14:42:32 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:42:36 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 17112 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:42:36 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:42:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:42:37 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:42:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:42:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:42:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:42:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1204 ms
2024-06-28 14:42:38 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:42:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:42:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:42:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:42:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:42:38 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:42:38 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 6efead7b-8372-4557-93e3-c9572f4b04e2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:42:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd164a6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3419e23b, org.springframework.security.web.header.HeaderWriterFilter@fb6097b, org.springframework.security.web.authentication.logout.LogoutFilter@102efc59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d75e7af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9776f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242a209e, org.springframework.security.web.session.SessionManagementFilter@6d303498, org.springframework.security.web.access.ExceptionTranslationFilter@84487f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64f1fd08]
2024-06-28 14:42:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:42:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:42:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:42:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 14:42:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:42:38 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.199 seconds (JVM running for 2.667)
2024-06-28 14:42:38 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:42:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:42:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-06-28 14:42:42 [http-nio-8080-exec-3] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:42:42 CST 2024
2024-06-28 14:42:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1949309d
2024-06-28 14:42:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719556962731
2024-06-28 14:42:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1949309d
2024-06-28 14:42:42 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1949309d
2024-06-28 14:42:42 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:42:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1949309d
2024-06-28 14:42:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/571/llf3pjos/eventsource
2024-06-28 14:42:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler - GET http://127.0.0.1:8080/chat/571/llf3pjos/eventsource
2024-06-28 14:42:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New EventSourceStreamingSockJsSession[id=llf3pjos]
2024-06-28 14:42:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@1949309d
2024-06-28 14:42:42 [http-nio-8080-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.] with root cause
java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value "*" since that cannot be set on the "Access-Control-Allow-Origin" response header. To allow credentials to a set of origins, list them explicitly or consider using "allowedOriginPatterns" instead.
	at org.springframework.web.cors.CorsConfiguration.validateAllowCredentials(CorsConfiguration.java:473)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:532)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1265)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1047)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 14:43:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler$EventSourceStreamingSockJsSession - Closing SockJS session llf3pjos with CloseStatus[code=1001, reason=null]
2024-06-28 14:43:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.h.EventSourceTransportHandler$EventSourceStreamingSockJsSession - Failure while sending SockJS close frame
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273)
	at org.apache.catalina.connector.Response.flushBuffer(Response.java:500)
	at org.apache.catalina.connector.ResponseFacade.flushBuffer(ResponseFacade.java:312)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.flushBuffer(OnCommittedResponseWrapper.java:166)
	at javax.servlet.ServletResponseWrapper.flushBuffer(ServletResponseWrapper.java:181)
	at org.springframework.security.web.util.OnCommittedResponseWrapper.flushBuffer(OnCommittedResponseWrapper.java:166)
	at org.springframework.http.server.ServletServerHttpResponse.flush(ServletServerHttpResponse.java:104)
	at org.springframework.web.socket.sockjs.transport.session.AbstractHttpSockJsSession.writeFrameInternal(AbstractHttpSockJsSession.java:361)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.close(AbstractSockJsSession.java:212)
	at org.springframework.web.socket.handler.WebSocketSessionDecorator.close(WebSocketSessionDecorator.java:160)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.close(ConcurrentWebSocketSessionDecorator.java:271)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:288)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:301)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:234)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:373)
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:206)
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.write0(Native Method)
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:51)
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)
	at sun.nio.ch.IOUtil.write(IOUtil.java:65)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:135)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1424)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:768)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:732)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:716)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:573)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:221)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1253)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402)
	at org.apache.coyote.Response.action(Response.java:209)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:306)
	... 27 common frames omitted
2024-06-28 14:43:28 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/event-stream;charset=UTF-8']
2024-06-28 14:43:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - EventSourceStreamingSockJsSession[id=llf3pjos] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:43:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session llf3pjos
2024-06-28 14:43:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:43:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 14:43:28 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=llf3pjos
2024-06-28 14:43:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:43:32 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 13908 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:43:32 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:43:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:43:33 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:43:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:43:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:43:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:43:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1177 ms
2024-06-28 14:43:33 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:43:33 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:43:33 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:43:33 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:43:33 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:43:33 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:43:34 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 78af0fba-5b7f-4871-b6a1-72f751f47a70

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:43:34 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cec219f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b9776f5, org.springframework.security.web.header.HeaderWriterFilter@43d38654, org.springframework.security.web.authentication.logout.LogoutFilter@42714a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79d9214d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57402ba1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@692e028d, org.springframework.security.web.session.SessionManagementFilter@34b27915, org.springframework.security.web.access.ExceptionTranslationFilter@55d9b8f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c60152]
2024-06-28 14:43:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:43:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:43:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:43:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 14:43:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:43:34 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.145 seconds (JVM running for 2.589)
2024-06-28 14:43:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:43:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:43:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 14:44:24 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:44:24 CST 2024
2024-06-28 14:44:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:44:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557064194
2024-06-28 14:44:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 14:44:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/556/ttwk5oky/websocket
2024-06-28 14:44:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ttwk5oky]
2024-06-28 14:44:24 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ttwk5oky
2024-06-28 14:44:24 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ttwk5oky
2024-06-28 14:44:24 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id ttwk5oky subscribed to /topic/public
2024-06-28 14:44:24 [http-nio-8080-exec-6] INFO  c.e.d.config.WebSocketEventListener - User with session id ttwk5oky subscribed to /user/user1/queue/private
2024-06-28 14:44:33 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 2, completed tasks = 2]
2024-06-28 14:44:44 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ttwk5oky with CloseStatus[code=1001, reason=null]
2024-06-28 14:44:44 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=f76d394b-afb1-1e4f-6299-862d214bb750, uri=ws://127.0.0.1:8080/chat/556/ttwk5oky/websocket]
2024-06-28 14:44:44 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ttwk5oky] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:44:44 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ttwk5oky
2024-06-28 14:44:44 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ttwk5oky
2024-06-28 14:44:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:44:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 14:44:44 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:44:48 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 5740 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:44:48 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:44:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:44:49 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:44:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:44:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:44:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:44:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1182 ms
2024-06-28 14:44:49 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:44:49 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:44:49 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:44:49 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:44:49 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:44:49 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:44:49 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: e5961a5d-7603-4b60-abc9-14966e42468d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:44:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20134094, org.springframework.security.web.context.SecurityContextPersistenceFilter@1416cf9f, org.springframework.security.web.header.HeaderWriterFilter@7a7cc52c, org.springframework.security.web.authentication.logout.LogoutFilter@57402ba1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bfc14b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a9b9909, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76889e60, org.springframework.security.web.session.SessionManagementFilter@21f459fc, org.springframework.security.web.access.ExceptionTranslationFilter@4e1ce44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19382338]
2024-06-28 14:44:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:44:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:44:50 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:44:50 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7636823f]]
2024-06-28 14:44:50 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:44:50 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.134 seconds (JVM running for 2.609)
2024-06-28 14:44:50 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:44:50 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:44:50 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:44:54 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:44:54 CST 2024
2024-06-28 14:44:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4ba89729
2024-06-28 14:44:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557094904
2024-06-28 14:44:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4ba89729
2024-06-28 14:44:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/588/ih33btpw/websocket
2024-06-28 14:44:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ih33btpw]
2024-06-28 14:44:54 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ih33btpw
2024-06-28 14:44:54 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ih33btpw
2024-06-28 14:44:54 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id ih33btpw subscribed to /topic/public
2024-06-28 14:44:54 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id ih33btpw subscribed to /user/user1/queue/private
2024-06-28 14:44:56 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ih33btpw, lookupDestination='/send'
2024-06-28 14:44:56 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:44:56 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:44:56 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 14:44:56 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@45ee5e2f
2024-06-28 14:45:38 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ih33btpw with CloseStatus[code=1001, reason=null]
2024-06-28 14:45:38 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=a8a7f7cd-d396-8435-0807-3f040d07b57c, uri=ws://127.0.0.1:8080/chat/588/ih33btpw/websocket]
2024-06-28 14:45:38 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ih33btpw] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:45:38 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ih33btpw
2024-06-28 14:45:38 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ih33btpw
2024-06-28 14:45:38 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:45:38 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7636823f]]
2024-06-28 14:45:38 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:45:44 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7924 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:45:44 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:45:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:45:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:45:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:45:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:45:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:45:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1151 ms
2024-06-28 14:45:45 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:45:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:45:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:45:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:45:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:45:45 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:45:45 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 3be33a24-4540-4d64-abe6-46a8de10dde9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:45:46 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64469d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d75e7af, org.springframework.security.web.header.HeaderWriterFilter@1290c49, org.springframework.security.web.authentication.logout.LogoutFilter@e8e0dec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b27915, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79d9214d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b8bd798, org.springframework.security.web.session.SessionManagementFilter@3419e23b, org.springframework.security.web.access.ExceptionTranslationFilter@fb6097b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@282ffbf5]
2024-06-28 14:45:46 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:45:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:45:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:45:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1729ec00]]
2024-06-28 14:45:46 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:45:46 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.067 seconds (JVM running for 2.52)
2024-06-28 14:45:52 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:45:52 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:45:52 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 14:45:57 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:45:57 CST 2024
2024-06-28 14:45:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:45:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557157296
2024-06-28 14:45:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:45:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/835/dsbjd24b/websocket
2024-06-28 14:45:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dsbjd24b]
2024-06-28 14:45:57 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=dsbjd24b
2024-06-28 14:45:57 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=dsbjd24b
2024-06-28 14:45:57 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id dsbjd24b subscribed to /topic/public
2024-06-28 14:45:57 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id dsbjd24b subscribed to /user/user1/queue/private
2024-06-28 14:45:58 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=dsbjd24b, lookupDestination='/send'
2024-06-28 14:45:58 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:45:58 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:45:58 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 14:45:58 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@34c1fc71
2024-06-28 14:46:45 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 11]
2024-06-28 14:46:59 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=dsbjd24b, lookupDestination='/send'
2024-06-28 14:46:59 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:46:59 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:46:59 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 14:46:59 [clientInboundChannel-13] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@6bc67784
2024-06-28 14:47:07 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 14:47:07 CST 2024
2024-06-28 14:47:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:47:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557227451
2024-06-28 14:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/150/wn1h0jh2/websocket
2024-06-28 14:47:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wn1h0jh2]
2024-06-28 14:47:07 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=wn1h0jh2
2024-06-28 14:47:07 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=wn1h0jh2
2024-06-28 14:47:07 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id wn1h0jh2 subscribed to /topic/public
2024-06-28 14:47:07 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id wn1h0jh2 subscribed to /user/user2/queue/private
2024-06-28 14:47:13 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=dsbjd24b, lookupDestination='/send'
2024-06-28 14:47:13 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:47:13 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@user2 2","type":"CHAT","to":null}
2024-06-28 14:47:13 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:47:13 [clientInboundChannel-25] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@5eb96f5b
2024-06-28 14:47:24 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 14:47:24 CST 2024
2024-06-28 14:47:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:47:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557244607
2024-06-28 14:47:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:47:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/283/hvceziny/websocket
2024-06-28 14:47:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hvceziny]
2024-06-28 14:47:24 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=hvceziny
2024-06-28 14:47:24 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id hvceziny subscribed to /topic/public
2024-06-28 14:47:24 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=hvceziny
2024-06-28 14:47:24 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id hvceziny subscribed to /user/user3/queue/private
2024-06-28 14:47:31 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=dsbjd24b, lookupDestination='/send'
2024-06-28 14:47:31 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:47:31 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@user2 2","type":"CHAT","to":null}
2024-06-28 14:47:31 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:47:31 [clientInboundChannel-37] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@553d6a07
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session dsbjd24b with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=5cd62791-1e10-b997-0109-771a0b12b7a3, uri=ws://127.0.0.1:8080/chat/835/dsbjd24b/websocket]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dsbjd24b] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dsbjd24b
2024-06-28 14:49:31 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=dsbjd24b
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session wn1h0jh2 with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=5ddbe56b-cc3f-28fd-577b-75e927d0cf1c, uri=ws://127.0.0.1:8080/chat/150/wn1h0jh2/websocket]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wn1h0jh2] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wn1h0jh2
2024-06-28 14:49:31 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=wn1h0jh2
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session hvceziny with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=272a7002-77c3-f9f5-5add-9f5df5e6037a, uri=ws://127.0.0.1:8080/chat/283/hvceziny/websocket]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hvceziny] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hvceziny
2024-06-28 14:49:31 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:49:31 [clientInboundChannel-47] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=hvceziny
2024-06-28 14:49:31 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1729ec00]]
2024-06-28 14:49:31 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:49:39 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 9292 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:49:39 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:49:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:49:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:49:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:49:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:49:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:49:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1323 ms
2024-06-28 14:49:40 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:49:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:49:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:49:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:49:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:49:40 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:49:40 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 9619ee9b-33b0-43ff-a7b8-36158f52aa7c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:49:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45e1aa48, org.springframework.security.web.context.SecurityContextPersistenceFilter@75361cf6, org.springframework.security.web.header.HeaderWriterFilter@1416cf9f, org.springframework.security.web.authentication.logout.LogoutFilter@2ab0702e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba7383d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fc142ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12c60152, org.springframework.security.web.session.SessionManagementFilter@a518813, org.springframework.security.web.access.ExceptionTranslationFilter@21f459fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@706fe5c6]
2024-06-28 14:49:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:49:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:49:41 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:49:41 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5527b211]]
2024-06-28 14:49:41 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:49:41 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.306 seconds (JVM running for 2.793)
2024-06-28 14:49:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:49:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:49:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 14:49:47 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 14:49:47 CST 2024
2024-06-28 14:49:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 14:49:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557387367
2024-06-28 14:49:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 14:49:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/674/qz2jno15/websocket
2024-06-28 14:49:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qz2jno15]
2024-06-28 14:49:47 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=qz2jno15
2024-06-28 14:49:47 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=qz2jno15
2024-06-28 14:49:47 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id qz2jno15 subscribed to /topic/public
2024-06-28 14:49:47 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id qz2jno15 subscribed to /user/user2/queue/private
2024-06-28 14:49:53 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:49:53 CST 2024
2024-06-28 14:49:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 14:49:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557393048
2024-06-28 14:49:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 14:49:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/324/z20jr2fk/websocket
2024-06-28 14:49:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=z20jr2fk]
2024-06-28 14:49:53 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=z20jr2fk
2024-06-28 14:49:53 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=z20jr2fk
2024-06-28 14:49:53 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id z20jr2fk subscribed to /topic/public
2024-06-28 14:49:53 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id z20jr2fk subscribed to /user/user1/queue/private
2024-06-28 14:49:56 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=qz2jno15, lookupDestination='/send'
2024-06-28 14:49:56 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:49:56 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"2","type":"CHAT","to":null}
2024-06-28 14:49:56 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:49:56 [clientInboundChannel-19] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@63733946
2024-06-28 14:50:40 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 21, active threads = 0, queued tasks = 0, completed tasks = 21], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 3, completed tasks = 13]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session qz2jno15 with CloseStatus[code=1001, reason=null]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=9ec847df-1759-b274-8aaa-97f563df800a, uri=ws://127.0.0.1:8080/chat/674/qz2jno15/websocket]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qz2jno15] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qz2jno15
2024-06-28 14:50:48 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=qz2jno15
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session z20jr2fk with CloseStatus[code=1001, reason=null]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=3a5465ee-2ec0-f17e-6277-c5b0c0367efe, uri=ws://127.0.0.1:8080/chat/324/z20jr2fk/websocket]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=z20jr2fk] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session z20jr2fk
2024-06-28 14:50:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:50:48 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=z20jr2fk
2024-06-28 14:50:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5527b211]]
2024-06-28 14:50:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:50:50 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 11972 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:50:50 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:50:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:50:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:50:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:50:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:50:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:50:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1218 ms
2024-06-28 14:50:52 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:50:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:50:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:50:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:50:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:50:52 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:50:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 3426ebe8-3c25-4361-b0c9-3610c67e8335

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:50:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64469d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d75e7af, org.springframework.security.web.header.HeaderWriterFilter@1290c49, org.springframework.security.web.authentication.logout.LogoutFilter@e8e0dec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b27915, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79d9214d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b8bd798, org.springframework.security.web.session.SessionManagementFilter@3419e23b, org.springframework.security.web.access.ExceptionTranslationFilter@fb6097b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@282ffbf5]
2024-06-28 14:50:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:50:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:50:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:50:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1729ec00]]
2024-06-28 14:50:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:50:52 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.226 seconds (JVM running for 2.822)
2024-06-28 14:51:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:51:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:51:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:51:05 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:51:05 CST 2024
2024-06-28 14:51:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557465431
2024-06-28 14:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/903/czrqtqkz/websocket
2024-06-28 14:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=czrqtqkz]
2024-06-28 14:51:05 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=czrqtqkz
2024-06-28 14:51:05 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=czrqtqkz
2024-06-28 14:51:05 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id czrqtqkz subscribed to /topic/public
2024-06-28 14:51:05 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id czrqtqkz subscribed to /user/user1/queue/private
2024-06-28 14:51:10 [http-nio-8080-exec-4] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 14:51:10 CST 2024
2024-06-28 14:51:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557470775
2024-06-28 14:51:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/657/aler43u2/websocket
2024-06-28 14:51:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=aler43u2]
2024-06-28 14:51:10 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=aler43u2
2024-06-28 14:51:10 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=aler43u2
2024-06-28 14:51:10 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id aler43u2 subscribed to /topic/public
2024-06-28 14:51:10 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id aler43u2 subscribed to /user/user2/queue/private
2024-06-28 14:51:13 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=aler43u2, lookupDestination='/send'
2024-06-28 14:51:13 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:51:13 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"2","type":"CHAT","to":null}
2024-06-28 14:51:13 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:51:13 [clientInboundChannel-19] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@10a8e5a
2024-06-28 14:51:17 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=aler43u2, lookupDestination='/send'
2024-06-28 14:51:17 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:51:17 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"@user1 1","type":"CHAT","to":null}
2024-06-28 14:51:17 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 14:51:17 [clientInboundChannel-22] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@2f24e89b
2024-06-28 14:51:28 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 14:51:28 CST 2024
2024-06-28 14:51:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557488291
2024-06-28 14:51:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:51:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/319/dltnr21g/websocket
2024-06-28 14:51:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dltnr21g]
2024-06-28 14:51:28 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=dltnr21g
2024-06-28 14:51:28 [http-nio-8080-exec-9] INFO  c.e.d.config.WebSocketEventListener - User with session id dltnr21g subscribed to /topic/public
2024-06-28 14:51:28 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=dltnr21g
2024-06-28 14:51:28 [http-nio-8080-exec-9] INFO  c.e.d.config.WebSocketEventListener - User with session id dltnr21g subscribed to /user/user3/queue/private
2024-06-28 14:51:31 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=aler43u2, lookupDestination='/send'
2024-06-28 14:51:31 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:51:31 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"@user1 1","type":"CHAT","to":null}
2024-06-28 14:51:31 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:51:31 [clientInboundChannel-3] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@f7120df
2024-06-28 14:51:36 [clientInboundChannel-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=aler43u2, lookupDestination='/send'
2024-06-28 14:51:36 [clientInboundChannel-6] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:51:36 [clientInboundChannel-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user2","text":"@user1 1","type":"CHAT","to":null}
2024-06-28 14:51:36 [clientInboundChannel-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:51:36 [clientInboundChannel-6] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@416f2f46
2024-06-28 14:51:52 [MessageBroker-3] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 32, active threads = 0, queued tasks = 0, completed tasks = 39], outboundChannel[pool size = 13, active threads = 0, queued tasks = 0, completed tasks = 13], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 4, completed tasks = 10]
2024-06-28 14:59:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=aler43u2] closed with CloseStatus[code=1000, reason=null]
2024-06-28 14:59:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session aler43u2
2024-06-28 14:59:29 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=aler43u2
2024-06-28 14:59:29 [clientOutboundChannel-14] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=aler43u2}], simpSessionId=aler43u2}]
2024-06-28 14:59:32 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:59:32 CST 2024
2024-06-28 14:59:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:59:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557972937
2024-06-28 14:59:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@99a78d7
2024-06-28 14:59:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/477/0skqa3nm/websocket
2024-06-28 14:59:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0skqa3nm]
2024-06-28 14:59:32 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=0skqa3nm
2024-06-28 14:59:32 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id 0skqa3nm subscribed to /topic/public
2024-06-28 14:59:32 [clientInboundChannel-40] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=0skqa3nm
2024-06-28 14:59:32 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id 0skqa3nm subscribed to /user/user1/queue/private
2024-06-28 14:59:34 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=0skqa3nm, lookupDestination='/send'
2024-06-28 14:59:34 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:59:34 [clientInboundChannel-45] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:59:34 [clientInboundChannel-45] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 14:59:34 [clientInboundChannel-45] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@51d76c89
2024-06-28 14:59:35 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [aler43u2]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session czrqtqkz with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=15a322a4-4662-7252-f7d0-e0b5051a2fdf, uri=ws://127.0.0.1:8080/chat/903/czrqtqkz/websocket]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=czrqtqkz] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session czrqtqkz
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session dltnr21g with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [clientInboundChannel-49] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=czrqtqkz
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=b8c9f373-3f4a-7636-3690-0c1bbb2b5618, uri=ws://127.0.0.1:8080/chat/319/dltnr21g/websocket]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dltnr21g] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dltnr21g
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 0skqa3nm with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [clientInboundChannel-52] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=dltnr21g
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=0ae06723-e756-7564-89db-11c15d578598, uri=ws://127.0.0.1:8080/chat/477/0skqa3nm/websocket]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0skqa3nm] closed with CloseStatus[code=1001, reason=null]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 0skqa3nm
2024-06-28 14:59:37 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 14:59:37 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=0skqa3nm
2024-06-28 14:59:37 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1729ec00]]
2024-06-28 14:59:37 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 14:59:40 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 400 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 14:59:40 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 14:59:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 14:59:41 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 14:59:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 14:59:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 14:59:41 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 14:59:41 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1224 ms
2024-06-28 14:59:41 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 14:59:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 14:59:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 14:59:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 14:59:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 14:59:41 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 14:59:42 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: c0a18548-66aa-4ce7-86df-fd167e3e8087

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 14:59:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@692e028d, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e048149, org.springframework.security.web.header.HeaderWriterFilter@75361cf6, org.springframework.security.web.authentication.logout.LogoutFilter@19650aa6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d5790ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56913163, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6629ad09, org.springframework.security.web.session.SessionManagementFilter@29eda4f8, org.springframework.security.web.access.ExceptionTranslationFilter@a518813, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e807c54]
2024-06-28 14:59:42 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 14:59:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 14:59:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 14:59:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52169758]]
2024-06-28 14:59:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 14:59:42 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.182 seconds (JVM running for 2.761)
2024-06-28 14:59:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 14:59:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 14:59:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 14:59:48 [http-nio-8080-exec-3] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 14:59:48 CST 2024
2024-06-28 14:59:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 14:59:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557988461
2024-06-28 14:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 14:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/741/kkmgran5/websocket
2024-06-28 14:59:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kkmgran5]
2024-06-28 14:59:48 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=kkmgran5
2024-06-28 14:59:48 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=kkmgran5
2024-06-28 14:59:48 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id kkmgran5 subscribed to /topic/public
2024-06-28 14:59:48 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id kkmgran5 subscribed to /user/user1/queue/private
2024-06-28 14:59:49 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=kkmgran5, lookupDestination='/send'
2024-06-28 14:59:49 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 14:59:49 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 14:59:49 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 14:59:49 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@199c0175
2024-06-28 14:59:56 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 14:59:56 CST 2024
2024-06-28 14:59:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 14:59:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719557996415
2024-06-28 14:59:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 14:59:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/069/r2ycd5hl/websocket
2024-06-28 14:59:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=r2ycd5hl]
2024-06-28 14:59:56 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=r2ycd5hl
2024-06-28 14:59:56 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id r2ycd5hl subscribed to /topic/public
2024-06-28 14:59:56 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=r2ycd5hl
2024-06-28 14:59:56 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id r2ycd5hl subscribed to /user/user2/queue/private
2024-06-28 15:00:09 [http-nio-8080-exec-4] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 15:00:09 CST 2024
2024-06-28 15:00:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 15:00:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719558009759
2024-06-28 15:00:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@48c3205a
2024-06-28 15:00:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/485/csbft0qz/websocket
2024-06-28 15:00:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=csbft0qz]
2024-06-28 15:00:09 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=csbft0qz
2024-06-28 15:00:09 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=csbft0qz
2024-06-28 15:00:09 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id csbft0qz subscribed to /topic/public
2024-06-28 15:00:09 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User with session id csbft0qz subscribed to /user/user3/queue/private
2024-06-28 15:00:14 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=kkmgran5, lookupDestination='/send'
2024-06-28 15:00:14 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:00:14 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 15:00:14 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 15:00:14 [clientInboundChannel-31] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@725b9c96
2024-06-28 15:00:20 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=kkmgran5, lookupDestination='/send'
2024-06-28 15:00:20 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:00:20 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@user2 2","type":"CHAT","to":null}
2024-06-28 15:00:20 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 15:00:20 [clientInboundChannel-3] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@7f5e23d1
2024-06-28 15:00:41 [MessageBroker-6] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 32, active threads = 0, queued tasks = 0, completed tasks = 36], outboundChannel[pool size = 10, active threads = 0, queued tasks = 0, completed tasks = 10], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 4, completed tasks = 12]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session r2ycd5hl with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=0d38ba65-335f-e25e-2ee1-31739fd40753, uri=ws://127.0.0.1:8080/chat/069/r2ycd5hl/websocket]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=r2ycd5hl] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session r2ycd5hl
2024-06-28 15:01:45 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=r2ycd5hl
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session csbft0qz with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=b0ef1b93-c104-902d-da16-e32bd2fc5e96, uri=ws://127.0.0.1:8080/chat/485/csbft0qz/websocket]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=csbft0qz] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session csbft0qz
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session kkmgran5 with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=csbft0qz
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=ba18832b-9ea8-cf3f-2bb7-9d0d1888f2fc, uri=ws://127.0.0.1:8080/chat/741/kkmgran5/websocket]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kkmgran5] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kkmgran5
2024-06-28 15:01:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:01:45 [clientInboundChannel-40] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=kkmgran5
2024-06-28 15:01:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52169758]]
2024-06-28 15:01:45 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:01:50 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7612 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:01:50 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:01:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:01:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:01:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:01:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:01:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:01:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1164 ms
2024-06-28 15:01:52 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:01:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:01:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:01:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:01:52 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:01:52 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:01:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 2d151914-3691-4861-ac71-e22acaf5456c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:01:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 15:01:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:01:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:01:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:01:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:01:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:01:52 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.111 seconds (JVM running for 2.581)
2024-06-28 15:01:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:01:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:01:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:01:58 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:01:58 CST 2024
2024-06-28 15:01:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:01:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719558118841
2024-06-28 15:01:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:01:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/133/dujtuig3/websocket
2024-06-28 15:01:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dujtuig3]
2024-06-28 15:01:58 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=dujtuig3
2024-06-28 15:01:58 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=dujtuig3
2024-06-28 15:01:58 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id dujtuig3 subscribed to /topic/public
2024-06-28 15:01:58 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id dujtuig3 subscribed to /user/user1/queue/private
2024-06-28 15:02:04 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user3, IP地址=127.0.0.1, 时间=Fri Jun 28 15:02:04 CST 2024
2024-06-28 15:02:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:02:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719558124624
2024-06-28 15:02:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:02:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/599/ayjzj0d1/websocket
2024-06-28 15:02:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ayjzj0d1]
2024-06-28 15:02:04 [clientInboundChannel-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ayjzj0d1
2024-06-28 15:02:04 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id ayjzj0d1 subscribed to /topic/public
2024-06-28 15:02:04 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ayjzj0d1
2024-06-28 15:02:04 [http-nio-8080-exec-1] INFO  c.e.d.config.WebSocketEventListener - User with session id ayjzj0d1 subscribed to /user/user3/queue/private
2024-06-28 15:02:10 [http-nio-8080-exec-3] WARN  c.e.demo.controller.UserController - 登录失败: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 15:02:10 CST 2024, 原因=Invalid username or password
2024-06-28 15:02:12 [http-nio-8080-exec-4] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 15:02:12 CST 2024
2024-06-28 15:02:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:02:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719558132463
2024-06-28 15:02:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:02:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/501/ker5ykm3/websocket
2024-06-28 15:02:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ker5ykm3]
2024-06-28 15:02:12 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ker5ykm3
2024-06-28 15:02:12 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id ker5ykm3 subscribed to /topic/public
2024-06-28 15:02:12 [clientInboundChannel-23] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ker5ykm3
2024-06-28 15:02:12 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id ker5ykm3 subscribed to /user/user2/queue/private
2024-06-28 15:02:24 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=dujtuig3, lookupDestination='/send'
2024-06-28 15:02:24 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:02:24 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@user2 2","type":"CHAT","to":null}
2024-06-28 15:02:24 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 15:02:24 [clientInboundChannel-28] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@4ec2c2ce
2024-06-28 15:02:52 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 30, active threads = 0, queued tasks = 0, completed tasks = 30], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 4, completed tasks = 15]
2024-06-28 15:03:17 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ayjzj0d1, lookupDestination='/send'
2024-06-28 15:03:17 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:03:17 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user3","text":"3","type":"CHAT","to":null}
2024-06-28 15:03:17 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 3 sessions.
2024-06-28 15:03:17 [clientInboundChannel-31] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@6f19dd3a
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session dujtuig3 with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=7a475026-c42c-b9e0-cc43-7fb6781b5a0c, uri=ws://127.0.0.1:8080/chat/133/dujtuig3/websocket]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dujtuig3] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dujtuig3
2024-06-28 15:12:48 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=dujtuig3
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ayjzj0d1 with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=e904fc8c-8744-0836-2156-12b139cfb777, uri=ws://127.0.0.1:8080/chat/599/ayjzj0d1/websocket]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ayjzj0d1] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ayjzj0d1
2024-06-28 15:12:48 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ayjzj0d1
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ker5ykm3 with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=cb205b2f-4266-a260-9773-b2edd544ae08, uri=ws://127.0.0.1:8080/chat/501/ker5ykm3/websocket]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ker5ykm3] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ker5ykm3
2024-06-28 15:12:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:12:48 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ker5ykm3
2024-06-28 15:12:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:12:48 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:13:16 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7376 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:13:16 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:13:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:13:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:13:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:13:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:13:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:13:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1225 ms
2024-06-28 15:13:18 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:13:18 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:13:18 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:13:18 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:13:18 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:13:18 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:13:18 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 9b469ec6-b5d6-4525-8a13-9f20f0f08289

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:13:18 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c18621b, org.springframework.security.web.context.SecurityContextPersistenceFilter@34b27915, org.springframework.security.web.header.HeaderWriterFilter@55d9b8f0, org.springframework.security.web.authentication.logout.LogoutFilter@75fa1be3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b9776f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dd7796b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39c385d6, org.springframework.security.web.session.SessionManagementFilter@1d75e7af, org.springframework.security.web.access.ExceptionTranslationFilter@1290c49, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55e2fe3c]
2024-06-28 15:13:18 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:13:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:13:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:13:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c9e07c6]]
2024-06-28 15:13:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:13:18 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.216 seconds (JVM running for 2.678)
2024-06-28 15:13:26 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:13:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:13:26 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:13:32 [http-nio-8080-exec-4] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:13:32 CST 2024
2024-06-28 15:13:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@61c76850
2024-06-28 15:13:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719558812886
2024-06-28 15:13:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@61c76850
2024-06-28 15:13:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/968/wuvrwuiw/websocket
2024-06-28 15:13:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wuvrwuiw]
2024-06-28 15:13:32 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=wuvrwuiw
2024-06-28 15:13:32 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=wuvrwuiw
2024-06-28 15:13:32 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id wuvrwuiw subscribed to /topic/public
2024-06-28 15:13:32 [http-nio-8080-exec-3] INFO  c.e.d.config.WebSocketEventListener - User with session id wuvrwuiw subscribed to /user/user1/queue/private
2024-06-28 15:13:36 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=wuvrwuiw, lookupDestination='/send'
2024-06-28 15:13:36 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:13:36 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle NullPointerException
2024-06-28 15:13:36 [clientInboundChannel-10] ERROR o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Unhandled exception from message handler method
java.lang.NullPointerException: null
	at com.example.demo.controller.ChatController.sendMessage(ChatController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 15:14:18 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 15, active threads = 1, queued tasks = 2, completed tasks = 11]
2024-06-28 15:18:02 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session wuvrwuiw with CloseStatus[code=1001, reason=null]
2024-06-28 15:18:02 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=bc46100d-3996-0180-2919-be39476fcd19, uri=ws://127.0.0.1:8080/chat/968/wuvrwuiw/websocket]
2024-06-28 15:18:02 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wuvrwuiw] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:18:02 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wuvrwuiw
2024-06-28 15:18:02 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=wuvrwuiw
2024-06-28 15:18:02 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:18:02 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c9e07c6]]
2024-06-28 15:18:02 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:18:06 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 2720 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:18:06 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:18:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:18:07 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:18:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:18:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:18:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:18:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1250 ms
2024-06-28 15:18:08 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:18:08 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:18:08 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:18:08 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:18:08 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:18:08 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:18:08 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 5f573d5a-7970-4e01-972a-f84f645e5acb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:18:08 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 15:18:08 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:18:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:18:08 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:18:08 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:18:08 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:18:08 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.262 seconds (JVM running for 2.724)
2024-06-28 15:18:10 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:18:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:18:10 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:18:13 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:18:13 CST 2024
2024-06-28 15:18:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:18:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559093834
2024-06-28 15:18:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:18:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/423/3w04pmgs/websocket
2024-06-28 15:18:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3w04pmgs]
2024-06-28 15:18:13 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=3w04pmgs
2024-06-28 15:18:13 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=3w04pmgs
2024-06-28 15:18:13 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id 3w04pmgs subscribed to /topic/public
2024-06-28 15:18:13 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id 3w04pmgs subscribed to /user/user1/queue/private
2024-06-28 15:18:22 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=3w04pmgs, lookupDestination='/send'
2024-06-28 15:18:22 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:18:22 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle NullPointerException
2024-06-28 15:18:22 [clientInboundChannel-10] ERROR o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Unhandled exception from message handler method
java.lang.NullPointerException: null
	at com.example.demo.Demo1Application.getlistOnlineUsers(Demo1Application.java:61)
	at com.example.demo.controller.ChatController.sendMessage(ChatController.java:43)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 15:19:08 [MessageBroker-6] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 13]
2024-06-28 15:20:51 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 3w04pmgs with CloseStatus[code=1001, reason=null]
2024-06-28 15:20:51 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=a417058a-93d6-516c-235c-d067743aa898, uri=ws://127.0.0.1:8080/chat/423/3w04pmgs/websocket]
2024-06-28 15:20:51 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3w04pmgs] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:20:51 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3w04pmgs
2024-06-28 15:20:51 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=3w04pmgs
2024-06-28 15:20:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:20:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:20:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:20:59 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 13124 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:20:59 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:21:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:21:00 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:21:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:21:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:21:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:21:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1228 ms
2024-06-28 15:21:01 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:21:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:21:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:21:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:21:01 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:21:01 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:21:01 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: bc61af66-3287-4f4f-bd0d-91cdd59b9c04

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:21:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 15:21:01 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:21:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:21:01 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:21:01 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:21:01 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:21:01 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.188 seconds (JVM running for 2.665)
2024-06-28 15:21:01 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:21:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:21:01 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 15:21:05 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:21:05 CST 2024
2024-06-28 15:21:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:21:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559265570
2024-06-28 15:21:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:21:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/001/ij5sfwvg/websocket
2024-06-28 15:21:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ij5sfwvg]
2024-06-28 15:21:05 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ij5sfwvg
2024-06-28 15:21:05 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ij5sfwvg
2024-06-28 15:21:05 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id ij5sfwvg subscribed to /topic/public
2024-06-28 15:21:05 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id ij5sfwvg subscribed to /user/user1/queue/private
2024-06-28 15:21:10 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ij5sfwvg, lookupDestination='/send'
2024-06-28 15:21:10 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:21:10 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle NullPointerException
2024-06-28 15:21:10 [clientInboundChannel-10] ERROR o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Unhandled exception from message handler method
java.lang.NullPointerException: null
	at com.example.demo.Demo1Application.getlistOnlineUsers(Demo1Application.java:61)
	at com.example.demo.controller.ChatController.sendMessage(ChatController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 15:21:34 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ij5sfwvg with CloseStatus[code=1001, reason=null]
2024-06-28 15:21:34 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=471c240e-5d66-7bce-a467-52515eef1518, uri=ws://127.0.0.1:8080/chat/001/ij5sfwvg/websocket]
2024-06-28 15:21:34 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ij5sfwvg] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:21:34 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ij5sfwvg
2024-06-28 15:21:34 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ij5sfwvg
2024-06-28 15:21:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:21:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:21:34 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:21:39 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 7904 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:21:39 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:21:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:21:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:21:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:21:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:21:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:21:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1186 ms
2024-06-28 15:21:40 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:21:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:21:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:21:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:21:40 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:21:40 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:21:40 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 9da72727-88ab-4748-9904-80a5a50ccfb8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:21:40 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12c60152, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d303498, org.springframework.security.web.header.HeaderWriterFilter@84487f4, org.springframework.security.web.authentication.logout.LogoutFilter@7158daf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3419e23b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b27915, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e807c54, org.springframework.security.web.session.SessionManagementFilter@43d38654, org.springframework.security.web.access.ExceptionTranslationFilter@4d192aef, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c15e8c7]
2024-06-28 15:21:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:21:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:21:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:21:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54cf7c6a]]
2024-06-28 15:21:40 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:21:40 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.126 seconds (JVM running for 2.577)
2024-06-28 15:21:41 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:21:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:21:41 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 15:21:46 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:21:46 CST 2024
2024-06-28 15:21:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@42e22a53
2024-06-28 15:21:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559306841
2024-06-28 15:21:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@42e22a53
2024-06-28 15:21:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/763/atio4ng3/websocket
2024-06-28 15:21:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=atio4ng3]
2024-06-28 15:21:46 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=atio4ng3
2024-06-28 15:21:46 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=atio4ng3
2024-06-28 15:21:46 [http-nio-8080-exec-9] INFO  c.e.d.config.WebSocketEventListener - User with session id atio4ng3 subscribed to /topic/public
2024-06-28 15:21:46 [http-nio-8080-exec-9] INFO  c.e.d.config.WebSocketEventListener - User with session id atio4ng3 subscribed to /user/user1/queue/private
2024-06-28 15:21:53 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=atio4ng3, lookupDestination='/send'
2024-06-28 15:21:53 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:21:53 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle NullPointerException
2024-06-28 15:21:53 [clientInboundChannel-10] ERROR o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Unhandled exception from message handler method
java.lang.NullPointerException: null
	at com.example.demo.Demo1Application.listOnlineUsers(Demo1Application.java:57)
	at com.example.demo.controller.ChatController.sendMessage(ChatController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:569)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:511)
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:94)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:524)
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:458)
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:144)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2024-06-28 15:22:40 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 13]
2024-06-28 15:24:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session atio4ng3 with CloseStatus[code=1001, reason=null]
2024-06-28 15:24:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=b5086784-5647-65f9-75dd-8cc86a6b60d1, uri=ws://127.0.0.1:8080/chat/763/atio4ng3/websocket]
2024-06-28 15:24:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=atio4ng3] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:24:28 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session atio4ng3
2024-06-28 15:24:28 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=atio4ng3
2024-06-28 15:24:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:24:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54cf7c6a]]
2024-06-28 15:24:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:24:36 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 23336 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:24:36 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:24:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:24:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:24:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:24:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:24:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:24:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1263 ms
2024-06-28 15:24:38 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:24:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:24:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:24:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:24:38 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:24:38 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:24:38 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 17a105b3-b5c1-410e-a358-7139cd83d323

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:24:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cec219f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b9776f5, org.springframework.security.web.header.HeaderWriterFilter@43d38654, org.springframework.security.web.authentication.logout.LogoutFilter@42714a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79d9214d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57402ba1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@692e028d, org.springframework.security.web.session.SessionManagementFilter@34b27915, org.springframework.security.web.access.ExceptionTranslationFilter@55d9b8f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c60152]
2024-06-28 15:24:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:24:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:24:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:24:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 15:24:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:24:38 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.222 seconds (JVM running for 2.684)
2024-06-28 15:24:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:24:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:24:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-28 15:24:46 [http-nio-8080-exec-4] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:24:46 CST 2024
2024-06-28 15:24:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 15:24:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559486661
2024-06-28 15:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2a22ad2b
2024-06-28 15:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/189/3t1auhoi/websocket
2024-06-28 15:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3t1auhoi]
2024-06-28 15:24:46 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=3t1auhoi
2024-06-28 15:24:46 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=3t1auhoi
2024-06-28 15:24:46 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id 3t1auhoi subscribed to /topic/public
2024-06-28 15:24:46 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id 3t1auhoi subscribed to /user/user1/queue/private
2024-06-28 15:24:51 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=3t1auhoi, lookupDestination='/send'
2024-06-28 15:24:51 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:24:51 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@1ba0e456
2024-06-28 15:25:38 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 12], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 13]
2024-06-28 15:28:06 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session 3t1auhoi with CloseStatus[code=1001, reason=null]
2024-06-28 15:28:06 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=8935d0cd-4044-b021-5d07-377f93f9178c, uri=ws://127.0.0.1:8080/chat/189/3t1auhoi/websocket]
2024-06-28 15:28:06 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3t1auhoi] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:28:06 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3t1auhoi
2024-06-28 15:28:06 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=3t1auhoi
2024-06-28 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:28:15 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 17616 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:28:15 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:28:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:28:16 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:28:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:28:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:28:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:28:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1236 ms
2024-06-28 15:28:16 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:28:16 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:28:16 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:28:16 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:28:16 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:28:16 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:28:17 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: a816a57b-b84c-49af-ae44-ed905e4b1e87

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:28:17 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 15:28:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:28:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:28:17 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:28:17 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:28:17 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:28:17 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.189 seconds (JVM running for 2.651)
2024-06-28 15:28:18 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:28:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:28:18 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:28:23 [http-nio-8080-exec-5] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:28:23 CST 2024
2024-06-28 15:28:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:28:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559703310
2024-06-28 15:28:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:28:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/032/ywok05we/websocket
2024-06-28 15:28:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ywok05we]
2024-06-28 15:28:23 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ywok05we
2024-06-28 15:28:23 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ywok05we
2024-06-28 15:28:23 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id ywok05we subscribed to /topic/public
2024-06-28 15:28:23 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id ywok05we subscribed to /user/user1/queue/private
2024-06-28 15:28:26 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ywok05we, lookupDestination='/send'
2024-06-28 15:28:26 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:28:26 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@4af7a45f
2024-06-28 15:28:33 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ywok05we, lookupDestination='/send'
2024-06-28 15:28:33 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:28:33 [clientInboundChannel-13] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@30cee665
2024-06-28 15:29:16 [MessageBroker-10] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 15, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 2, completed tasks = 13]
2024-06-28 15:29:36 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ywok05we with CloseStatus[code=1001, reason=null]
2024-06-28 15:29:36 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=fb65f9d3-96d6-9098-608a-bc57eda39bd3, uri=ws://127.0.0.1:8080/chat/032/ywok05we/websocket]
2024-06-28 15:29:36 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ywok05we] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:29:36 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ywok05we
2024-06-28 15:29:36 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ywok05we
2024-06-28 15:29:36 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:29:36 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:29:36 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:29:40 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 23456 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:29:40 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:29:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:29:41 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:29:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:29:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:29:41 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:29:41 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1154 ms
2024-06-28 15:29:41 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:29:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:29:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:29:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:29:41 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:29:41 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:29:42 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: c871ca78-8805-4e99-9cf3-8e5cf1d4935b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:29:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e807c54, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ba7383d, org.springframework.security.web.header.HeaderWriterFilter@bfc14b9, org.springframework.security.web.authentication.logout.LogoutFilter@10f19647, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@710d89e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29eda4f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd164a6, org.springframework.security.web.session.SessionManagementFilter@75361cf6, org.springframework.security.web.access.ExceptionTranslationFilter@1416cf9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56380231]
2024-06-28 15:29:42 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:29:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:29:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:29:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@78010562]]
2024-06-28 15:29:42 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:29:42 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.081 seconds (JVM running for 2.539)
2024-06-28 15:29:46 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:29:46 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:29:46 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:29:50 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:29:50 CST 2024
2024-06-28 15:29:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 15:29:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559790682
2024-06-28 15:29:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 15:29:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/780/ndwyez1k/websocket
2024-06-28 15:29:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ndwyez1k]
2024-06-28 15:29:50 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ndwyez1k
2024-06-28 15:29:50 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ndwyez1k
2024-06-28 15:29:50 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id ndwyez1k subscribed to /topic/public
2024-06-28 15:29:50 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id ndwyez1k subscribed to /user/user1/queue/private
2024-06-28 15:30:00 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ndwyez1k, lookupDestination='/send'
2024-06-28 15:30:00 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:30:00 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"Online Users: [username:user1 (IP: 127.0.0.1)]","type":"...(truncated)
2024-06-28 15:30:00 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:30:00 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@c81ab5e
2024-06-28 15:30:12 [http-nio-8080-exec-8] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user2, IP地址=127.0.0.1, 时间=Fri Jun 28 15:30:12 CST 2024
2024-06-28 15:30:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 15:30:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559812645
2024-06-28 15:30:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@57adfab0
2024-06-28 15:30:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/713/ratvf1wq/websocket
2024-06-28 15:30:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ratvf1wq]
2024-06-28 15:30:12 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ratvf1wq
2024-06-28 15:30:12 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=ratvf1wq
2024-06-28 15:30:12 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id ratvf1wq subscribed to /topic/public
2024-06-28 15:30:12 [http-nio-8080-exec-2] INFO  c.e.d.config.WebSocketEventListener - User with session id ratvf1wq subscribed to /user/user2/queue/private
2024-06-28 15:30:13 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ndwyez1k, lookupDestination='/send'
2024-06-28 15:30:13 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:30:13 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"Online Users: [username:user1 (IP: 127.0.0.1), username:...(truncated)
2024-06-28 15:30:13 [clientInboundChannel-22] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 15:30:13 [clientInboundChannel-22] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@7461109a
2024-06-28 15:30:25 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ndwyez1k, lookupDestination='/send'
2024-06-28 15:30:25 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:30:25 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"Online Users: [username:user1 (IP: 127.0.0.1), username:...(truncated)
2024-06-28 15:30:25 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 15:30:25 [clientInboundChannel-25] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@455e4ffc
2024-06-28 15:30:34 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=ndwyez1k, lookupDestination='/send'
2024-06-28 15:30:34 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:30:34 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"System: Please logout and re-login.","type":"COMMAND","t...(truncated)
2024-06-28 15:30:34 [clientInboundChannel-28] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2024-06-28 15:30:34 [clientInboundChannel-28] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@6d524b9f
2024-06-28 15:30:41 [MessageBroker-11] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 30, active threads = 0, queued tasks = 0, completed tasks = 30], outboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 3, completed tasks = 11]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ratvf1wq with CloseStatus[code=1001, reason=null]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=dc0d39a3-8848-32ac-8c66-3102f0645a97, uri=ws://127.0.0.1:8080/chat/713/ratvf1wq/websocket]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ratvf1wq] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ratvf1wq
2024-06-28 15:32:18 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ratvf1wq
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session ndwyez1k with CloseStatus[code=1001, reason=null]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=aa162982-8349-2843-15d5-6d3ef4af72c6, uri=ws://127.0.0.1:8080/chat/780/ndwyez1k/websocket]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ndwyez1k] closed with CloseStatus[code=1001, reason=null]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ndwyez1k
2024-06-28 15:32:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:32:18 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ndwyez1k
2024-06-28 15:32:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@78010562]]
2024-06-28 15:32:18 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:32:25 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 1284 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:32:25 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:32:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:32:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:32:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:32:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:32:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1205 ms
2024-06-28 15:32:27 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:32:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:32:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:32:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:32:27 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:32:27 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:32:27 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: d2b9b836-15a0-4cb5-abaa-ae46588b2b04

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:32:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cec219f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b9776f5, org.springframework.security.web.header.HeaderWriterFilter@43d38654, org.springframework.security.web.authentication.logout.LogoutFilter@42714a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79d9214d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57402ba1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@692e028d, org.springframework.security.web.session.SessionManagementFilter@34b27915, org.springframework.security.web.access.ExceptionTranslationFilter@55d9b8f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12c60152]
2024-06-28 15:32:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:32:27 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:32:27 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 15:32:27 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:32:27 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.238 seconds (JVM running for 2.838)
2024-06-28 15:32:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:32:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b10ace9]]
2024-06-28 15:32:28 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:32:32 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 10780 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:32:32 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:32:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:32:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:32:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:32:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:32:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1222 ms
2024-06-28 15:32:34 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:32:34 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:32:34 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:32:34 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:32:34 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:32:34 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:32:34 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: 0c0bf8e8-0eb5-4637-9ff9-31de3a1f892e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:32:34 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd164a6, org.springframework.security.web.context.SecurityContextPersistenceFilter@3419e23b, org.springframework.security.web.header.HeaderWriterFilter@fb6097b, org.springframework.security.web.authentication.logout.LogoutFilter@102efc59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d75e7af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b9776f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242a209e, org.springframework.security.web.session.SessionManagementFilter@6d303498, org.springframework.security.web.access.ExceptionTranslationFilter@84487f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64f1fd08]
2024-06-28 15:32:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:32:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:32:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 15:32:34 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:32:34 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.279 seconds (JVM running for 2.773)
2024-06-28 15:32:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:32:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@50756c76]]
2024-06-28 15:32:39 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:32:43 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 15348 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:32:43 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:32:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:32:44 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:32:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:32:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:32:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1276 ms
2024-06-28 15:32:45 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:32:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:32:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.HelloController:

2024-06-28 15:32:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	c.e.d.c.UserController:

2024-06-28 15:32:45 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler -
	o.s.b.a.w.s.e.BasicErrorController:

2024-06-28 15:32:45 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:32:45 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration -

Using generated security password: a41989e0-2d8d-4b15-803e-69836dcc47c2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:32:45 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e2fe3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43d38654, org.springframework.security.web.header.HeaderWriterFilter@4d192aef, org.springframework.security.web.authentication.logout.LogoutFilter@14229fa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d303498, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d75e7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e1aa48, org.springframework.security.web.session.SessionManagementFilter@55d9b8f0, org.springframework.security.web.access.ExceptionTranslationFilter@53a9fcfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@76889e60]
2024-06-28 15:32:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:32:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:32:45 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:32:45 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:32:45 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:32:45 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.262 seconds (JVM running for 2.73)
2024-06-28 15:32:48 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:32:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:32:48 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:32:52 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:32:52 CST 2024
2024-06-28 15:32:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:32:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719559972955
2024-06-28 15:32:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@15fb7a32
2024-06-28 15:32:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/800/tyumpipp/websocket
2024-06-28 15:32:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tyumpipp]
2024-06-28 15:32:53 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=tyumpipp
2024-06-28 15:32:53 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=tyumpipp
2024-06-28 15:32:53 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id tyumpipp subscribed to /topic/public
2024-06-28 15:32:53 [http-nio-8080-exec-5] INFO  c.e.d.config.WebSocketEventListener - User with session id tyumpipp subscribed to /user/user1/queue/private
2024-06-28 15:32:58 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=tyumpipp, lookupDestination='/send'
2024-06-28 15:32:58 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:32:58 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@@quit","type":"COMMAND","to":null}
2024-06-28 15:32:58 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:32:58 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@a50f457
2024-06-28 15:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tyumpipp] closed with CloseStatus[code=1000, reason=null]
2024-06-28 15:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tyumpipp
2024-06-28 15:33:00 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=tyumpipp
2024-06-28 15:33:00 [clientOutboundChannel-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=tyumpipp}], simpSessionId=tyumpipp}]
2024-06-28 15:33:08 [MessageBroker-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [tyumpipp]
2024-06-28 15:33:45 [MessageBroker-8] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 15, active threads = 0, queued tasks = 0, completed tasks = 15], outboundChannel[pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 11]
2024-06-28 15:37:07 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:37:07 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@468dda3e]]
2024-06-28 15:37:07 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:37:11 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 23312 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:37:11 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:37:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:37:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:37:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:37:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:37:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:37:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1226 ms
2024-06-28 15:37:12 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:37:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:37:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.HelloController:
	
2024-06-28 15:37:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.UserController:
	
2024-06-28 15:37:12 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-06-28 15:37:13 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:37:13 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 404e429c-514a-45bd-bd26-6059aa9962dd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:37:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@718dbd79, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d192aef, org.springframework.security.web.header.HeaderWriterFilter@69228e85, org.springframework.security.web.authentication.logout.LogoutFilter@67a3bd51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@84487f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1290c49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20134094, org.springframework.security.web.session.SessionManagementFilter@53a9fcfd, org.springframework.security.web.access.ExceptionTranslationFilter@6778aea6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55259aa7]
2024-06-28 15:37:13 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:37:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:37:13 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:37:13 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7636823f]]
2024-06-28 15:37:13 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:37:13 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.227 seconds (JVM running for 2.702)
2024-06-28 15:37:18 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:37:18 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:37:18 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:37:18 [http-nio-8080-exec-2] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:37:18 CST 2024
2024-06-28 15:37:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@213860b8
2024-06-28 15:37:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719560238993
2024-06-28 15:37:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@213860b8
2024-06-28 15:37:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/209/3oryxlgm/websocket
2024-06-28 15:37:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3oryxlgm]
2024-06-28 15:37:19 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=3oryxlgm
2024-06-28 15:37:19 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=3oryxlgm
2024-06-28 15:37:19 [http-nio-8080-exec-4] INFO  c.e.d.config.WebSocketEventListener - User with session id 3oryxlgm subscribed to /topic/public
2024-06-28 15:37:19 [http-nio-8080-exec-4] INFO  c.e.d.config.WebSocketEventListener - User with session id 3oryxlgm subscribed to /user/user1/queue/private
2024-06-28 15:37:21 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=3oryxlgm, lookupDestination='/send'
2024-06-28 15:37:21 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:37:21 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 15:37:21 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:37:21 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@21ad4bb7
2024-06-28 15:37:26 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=3oryxlgm, lookupDestination='/send'
2024-06-28 15:37:26 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:37:26 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@@quit","type":"COMMAND","to":null}
2024-06-28 15:37:26 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:37:26 [clientInboundChannel-13] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@5b7e814b
2024-06-28 15:37:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3oryxlgm] closed with CloseStatus[code=1000, reason=null]
2024-06-28 15:37:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3oryxlgm
2024-06-28 15:37:29 [http-nio-8080-exec-8] INFO  c.e.d.config.WebSocketEventListener - User disconnected. SessionId: 3oryxlgm, Disconnect Time: 2024-06-28 15:37:29
2024-06-28 15:37:29 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=3oryxlgm
2024-06-28 15:37:29 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3oryxlgm}], simpSessionId=3oryxlgm}]
2024-06-28 15:37:39 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [3oryxlgm]
2024-06-28 15:38:12 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 18, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 11]
2024-06-28 15:41:16 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 15:41:16 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7636823f]]
2024-06-28 15:41:16 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 15:41:20 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 6916 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 15:41:20 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 15:41:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 15:41:21 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 15:41:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 15:41:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 15:41:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 15:41:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1226 ms
2024-06-28 15:41:22 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 15:41:22 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 15:41:22 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.HelloController:
	
2024-06-28 15:41:22 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.UserController:
	
2024-06-28 15:41:22 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-06-28 15:41:22 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 15:41:22 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c52bfc4d-e3d5-4edf-be08-28dccf4af456

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 15:41:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45e1aa48, org.springframework.security.web.context.SecurityContextPersistenceFilter@75361cf6, org.springframework.security.web.header.HeaderWriterFilter@1416cf9f, org.springframework.security.web.authentication.logout.LogoutFilter@2ab0702e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba7383d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fc142ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12c60152, org.springframework.security.web.session.SessionManagementFilter@a518813, org.springframework.security.web.access.ExceptionTranslationFilter@21f459fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@706fe5c6]
2024-06-28 15:41:22 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 15:41:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 15:41:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 15:41:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54cf7c6a]]
2024-06-28 15:41:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 15:41:22 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.157 seconds (JVM running for 2.609)
2024-06-28 15:41:24 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-28 15:41:24 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-28 15:41:24 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-28 15:41:28 [http-nio-8080-exec-1] INFO  c.e.demo.controller.UserController - 登录成功: 用户名=user1, IP地址=127.0.0.1, 时间=Fri Jun 28 15:41:28 CST 2024
2024-06-28 15:41:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 15:41:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/info?t=1719560488974
2024-06-28 15:41:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@257cc1fc
2024-06-28 15:41:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://127.0.0.1:8080/chat/759/nhtzvjll/websocket
2024-06-28 15:41:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nhtzvjll]
2024-06-28 15:41:29 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=nhtzvjll
2024-06-28 15:41:29 [clientInboundChannel-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /topic/public id=sub-0 session=nhtzvjll
2024-06-28 15:41:29 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id nhtzvjll subscribed to /topic/public
2024-06-28 15:41:29 [http-nio-8080-exec-7] INFO  c.e.d.config.WebSocketEventListener - User with session id nhtzvjll subscribed to /user/user1/queue/private
2024-06-28 15:41:30 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=nhtzvjll, lookupDestination='/send'
2024-06-28 15:41:30 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:41:30 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"1","type":"CHAT","to":null}
2024-06-28 15:41:30 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:41:30 [clientInboundChannel-10] DEBUG c.e.demo.controller.ChatController - Public chat message sent: com.example.demo.models.ChatMessage@73ae4872
2024-06-28 15:41:34 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/send session=nhtzvjll, lookupDestination='/send'
2024-06-28 15:41:34 [clientInboundChannel-13] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking ChatController#sendMessage[1 args]
2024-06-28 15:41:34 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/topic/public session=null payload={"from":"user1","text":"@@quit","type":"COMMAND","to":null}
2024-06-28 15:41:34 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2024-06-28 15:41:34 [clientInboundChannel-13] DEBUG c.e.demo.controller.ChatController - System command processed: com.example.demo.models.ChatMessage@7c7486e4
2024-06-28 15:41:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nhtzvjll] closed with CloseStatus[code=1000, reason=null]
2024-06-28 15:41:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session nhtzvjll
2024-06-28 15:41:41 [http-nio-8080-exec-9] INFO  c.e.d.config.WebSocketEventListener - User null disconnected. SessionId: nhtzvjll, Disconnect Time: 2024-06-28 15:41:41
2024-06-28 15:41:41 [clientInboundChannel-17] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=nhtzvjll
2024-06-28 15:41:41 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nhtzvjll}], simpSessionId=nhtzvjll}]
2024-06-28 15:41:49 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [nhtzvjll]
2024-06-28 15:42:22 [MessageBroker-11] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 18, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 16, active threads = 1, queued tasks = 1, completed tasks = 11]
2024-06-28 16:00:03 [main] INFO  c.e.demo.service.UserInfoLogger - This is a user info log message.
2024-06-28 16:00:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2024-06-28 16:00:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54cf7c6a]]
2024-06-28 16:00:21 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2024-06-28 16:00:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at com.example.demo.Demo1Application.main(Demo1Application.java:27)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:232)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:329)
	... 18 common frames omitted
2024-06-28 16:01:41 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at com.example.demo.Demo1Application.main(Demo1Application.java:27)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:232)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:329)
	... 18 common frames omitted
2024-06-28 16:02:02 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:301)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at com.example.demo.Demo1Application.main(Demo1Application.java:27)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:31 - no applicable action for [marker], current ElementPath  is [[configuration][marker]]
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:232)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:329)
	... 18 common frames omitted
2024-06-28 16:02:50 [main] INFO  com.example.demo.Demo1Application - Starting Demo1Application using Java 1.8.0_192 on BUPTAUTH1 with PID 21936 (E:\Code\Java\demo1\target\classes started by liuke in E:\Code\Java\demo1)
2024-06-28 16:02:50 [main] INFO  com.example.demo.Demo1Application - No active profile set, falling back to 1 default profile: "default"
2024-06-28 16:02:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-28 16:02:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-06-28 16:02:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-06-28 16:02:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.68]
2024-06-28 16:02:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-28 16:02:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1191 ms
2024-06-28 16:02:51 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/chat/**] in 'stompWebSocketHandlerMapping'
2024-06-28 16:02:51 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.ChatController:
	{[MESSAGE],[/send]}: sendMessage(ChatMessage)
2024-06-28 16:02:51 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.HelloController:
	
2024-06-28 16:02:51 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.e.d.c.UserController:
	
2024-06-28 16:02:51 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-06-28 16:02:52 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2024-06-28 16:02:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2e71601c-5738-4f10-b3db-bdfb2b41d755

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-06-28 16:02:52 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45e1aa48, org.springframework.security.web.context.SecurityContextPersistenceFilter@75361cf6, org.springframework.security.web.header.HeaderWriterFilter@1416cf9f, org.springframework.security.web.authentication.logout.LogoutFilter@2ab0702e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba7383d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fc142ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12c60152, org.springframework.security.web.session.SessionManagementFilter@a518813, org.springframework.security.web.access.ExceptionTranslationFilter@21f459fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@706fe5c6]
2024-06-28 16:02:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-06-28 16:02:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-28 16:02:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2024-06-28 16:02:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54cf7c6a]]
2024-06-28 16:02:52 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2024-06-28 16:02:52 [main] INFO  com.example.demo.Demo1Application - Started Demo1Application in 2.151 seconds (JVM running for 2.609)
2024-06-28 16:03:51 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
